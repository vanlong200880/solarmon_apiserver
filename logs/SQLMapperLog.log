[2023-03-16T22:45:47.505] [INFO] SQLMapperLog - [sqlId:ClientAnalytics.getDataChartParameter] SELECT
  dv.time,
  dv.id_device,
  ROUND(AVG(activeEnergy), 1) AS activeEnergy,
  ROUND(AVG(activeEnergyRate1), 1) AS activeEnergyRate1,
  ROUND(AVG(activeEnergyRate2), 1) activeEnergyRate2AS,
  ROUND(AVG(activeEnergyRate3), 1) AS activeEnergyRate3,
  ROUND(AVG(reverseActiveEnergy), 1) AS reverseActiveEnergy,
  ROUND(AVG(reverseActiveEnergyRate1), 1) AS reverseActiveEnergyRate1,
  ROUND(AVG(reverseActiveEnergyRate2), 1) AS reverseActiveEnergyRate2,
  ROUND(AVG(reverseActiveEnergyRate3), 1) AS reverseActiveEnergyRate3,
  ROUND(AVG(reactiveEnergyInductive), 1) AS reactiveEnergyInductive,
  ROUND(AVG(reactiveEnergyInductiveRate1), 1) AS reactiveEnergyInductiveRate1,
  ROUND(AVG(reactiveEnergyInductiveRate2), 1) AS reactiveEnergyInductiveRate2,
  ROUND(AVG(reactiveEnergyInductiveRate3), 1) AS reactiveEnergyInductiveRate3,
  ROUND(AVG(reactiveEnergyCapacitive), 1) AS reactiveEnergyCapacitive,
  ROUND(AVG(reactiveEnergyCapacitiveRate1), 1) AS reactiveEnergyCapacitiveRate1,
  ROUND(AVG(reactiveEnergyCapacitiveRate2), 1) AS reactiveEnergyCapacitiveRate2,
  ROUND(AVG(reactiveEnergyCapacitiveRate3), 1) AS reactiveEnergyCapacitiveRate3,
  ROUND(AVG(currentPhaseA), 1) AS currentPhaseA,
  ROUND(AVG(currentPhaseB), 1) AS currentPhaseB,
  ROUND(AVG(currentPhaseC), 1) AS currentPhaseC,
  ROUND(AVG(voltagePhaseA), 1) AS voltagePhaseA,
  ROUND(AVG(voltagePhaseB), 1) AS voltagePhaseB,
  ROUND(AVG(voltagePhaseC), 1) AS voltagePhaseC,
  ROUND(AVG(powerFrequency), 1) AS powerFrequency,
  ROUND(AVG(activePower), 1) AS activePower,
  ROUND(AVG(reverseActivePower), 1) AS reverseActivePower,
  ROUND(AVG(reactivePower), 1) AS reactivePower,
  ROUND(AVG(reverseReactivePower), 1) AS reverseReactivePower,
  ROUND(AVG(powerFactor), 1) AS powerFactor,
  ROUND(AVG(activePowerPhaseA), 1) AS activePowerPhaseA,
  ROUND(AVG(activePowerPhaseB), 1) AS activePowerPhaseB,
  ROUND(AVG(activePowerPhaseC), 1) AS activePowerPhaseC,
  ROUND(AVG(reverseActivePowerPhaseA), 1) AS reverseActivePowerPhaseA,
  ROUND(AVG(reverseActivePowerPhaseB), 1) AS reverseActivePowerPhaseB,
  ROUND(AVG(reverseActivePowerPhaseC), 1) AS reverseActivePowerPhaseC,
  ROUND(AVG(reactivePowerPhaseA), 1) AS reactivePowerPhaseA,
  ROUND(AVG(reactivePowerPhaseB), 1) AS reactivePowerPhaseB,
  ROUND(AVG(reactivePowerPhaseC), 1) AS reactivePowerPhaseC,
  ROUND(AVG(reverseReactivePowerPhaseA), 1) AS reverseReactivePowerPhaseA,
  ROUND(AVG(reverseReactivePowerPhaseB), 1) AS reverseReactivePowerPhaseB,
  ROUND(AVG(reverseReactivePowerPhaseC), 1) AS reverseReactivePowerPhaseC,
  ROUND(AVG(powerFactorPhaseA), 1) AS powerFactorPhaseA,
  ROUND(AVG(powerFactorPhaseB), 1) AS powerFactorPhaseB,
  ROUND(AVG(powerFactorPhaseC), 1) AS powerFactorPhaseC,
  ROUND(AVG(CTratioPrimary), 1) AS CTratioPrimary,
  ROUND(AVG(CTratioSecondary), 1) AS CTratioSecondary,
  ROUND(AVG(PTratioPrimary), 1) AS PTratioPrimary,
  ROUND(AVG(PTratioSecondary), 1) AS PTratioSecondary,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 300
    ) * 300,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  FROM_UNIXTIME(dv.time, '%d. %b') AS categories_first_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 300
    ) * 300,
    '%H:%i'
  ) AS categories_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 300
    ) * 300,
    '%d/%m/%Y %H:%i'
  ) AS time_group_by
FROM
  model_emeter_Vinasino_VSE3T52023 dv
WHERE
  dv.id_device = 419
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d') = DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
GROUP BY
  time_group_by
[2023-03-16T22:45:47.507] [INFO] SQLMapperLog - param: {
  filterBy: 'today',
  start_date: '2023-03-15 00:00:00',
  end_date: '2023-03-15 19:00:00',
  data_send_time: 1,
  table_name: 'model_emeter_Vinasino_VSE3T52023',
  id: 419
}
[2023-03-16T23:00:24.606] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-03-16T23:00:24.607] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:00:24.691] [INFO] SQLMapperLog - [sqlId:MainDevice.getList] SELECT
  d.id,
  d.id_device,
  d.id_project,
  d.id_device_type,
  d.`name`,
  d.model,
  d.serial_number,
  d.manufacturer,
  DATE_FORMAT(d.installed_at, '%d/%m/%Y') AS installed_at,
  d.`status`,
  dtd.`name` AS device_type_name,
  dg.`name` AS device_group_name,
  dg.table_name,
  d.id_device_group,
  p.hash_id,
  IF(
    d.power_now IS NULL
    OR DATE_FORMAT(NOW(), '%k') >= 19
    OR DATE_FORMAT(NOW(), '%k') <= 5,
    NULL,
    (d.power_now / 1000)
  ) AS power_now,
  IF(
    d.energy_today IS NULL,
    NULL,
    (d.energy_today / 1000)
  ) AS energy_today,
  IF(
    d.last_month IS NULL,
    NULL,
    (d.last_month / 1000)
  ) AS last_month,
  d.lifetime,
  FROM_UNIXTIME(d.last_updated, '%d/%m/%Y %H:%i') AS last_updated
FROM
  device d
  LEFT JOIN device_type dt ON dt.id = d.id_device_type
  LEFT JOIN device_type_detail dtd ON dtd.id_device_type = dt.id
  AND dtd.id_language = 2
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND d.`status` IN (1, 0)
  AND epm.id_employee = 1
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
    WHERE
      p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
      AND p.`status` = 1
      AND d.`status` = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
    WHERE
      p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
      AND p.`status` = 1
      AND d.`status` = 1
  )
ORDER BY
  d.id DESC
LIMIT
  0, 30
[2023-03-16T23:00:24.692] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_project: null,
  id_device_type: null,
  name: null,
  model: null,
  serial_number: null,
  manufacturer: null,
  installed_at: null,
  description: null,
  status: 1,
  is_virtual: 1,
  menu_order: 0,
  sp_sunrise_sunset: null,
  sp_dc_current_threshold: null,
  sp_time_threshold: null,
  sp_ratio: null,
  enable_performance_index: 0,
  enable_string_performance: 0,
  enable_device_faults: 0,
  enable_zeo_generation: 0,
  enable_system_disconnect: 0,
  pi_index_value: null,
  inverter_efficiency: 0.96,
  system_losses: 0.045,
  temperature_coefficient: -0.47,
  pi_sunrise_sunset: 0.5,
  pi_time_threshold: 0.25,
  zg_sunrise_sunset: 0.5,
  zg_time_threshold: 0.25,
  sd_sunrise_sunset: 0.25,
  sd_time_threshold: 0.25,
  max_ac_output: null,
  panel_temperature: null,
  poa_irradiance: null,
  dc_size: null,
  dc_current_string01: 0,
  dc_current_string02: 0,
  dc_current_string03: 0,
  dc_current_string04: 0,
  dc_current_string05: 0,
  dc_current_string06: 0,
  dc_current_string07: 0,
  dc_current_string08: 0,
  dc_current_string09: 0,
  dc_current_string10: 0,
  dc_current_string11: 0,
  dc_current_string12: 0,
  dc_current_string13: 0,
  dc_current_string14: 0,
  dc_current_string15: 0,
  dc_current_string16: 0,
  dc_current_string17: 0,
  dc_current_string18: 0,
  dc_current_string19: 0,
  dc_current_string20: 0,
  dc_current_string21: 0,
  dc_current_string22: 0,
  dc_current_string24: 0,
  sp_type: 1,
  pi_type: 1,
  limit: 30,
  offset: 0,
  index: 1,
  max_date: '16/03/2023',
  current_date: '2023-03-16 00:00',
  id_language: 2,
  id_employee: 1,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getList',
  lang: 'en',
  lang_default: 'en'
}
[2023-03-16T23:00:24.695] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-03-16T23:00:24.695] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-03-16T23:00:24.702] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:00:24.702] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:00:24.708] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:00:24.708] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:00:24.715] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:00:24.715] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:00:24.730] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:00:24.731] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:00:24.736] [INFO] SQLMapperLog - [sqlId:MainDevice.getAlertByDevice] SELECT
  el.id,
  COUNT(el.id) AS total_alert,
  el.thumbnail,
  eld.`name`
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_level el ON e.id_error_level = el.id
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
WHERE
  a.id_device = 419
  AND e.`status` = 1
  AND el.`status` = 1
  AND d.`status` = 1
  AND a.`status` = 1
  AND el.id IN (1, 6)
GROUP BY
  el.id
ORDER BY
  el.id ASC
[2023-03-16T23:00:24.737] [INFO] SQLMapperLog - param: { id_device: 419, id_language: 2 }
[2023-03-16T23:00:24.738] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:00:24.738] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:00:24.742] [INFO] SQLMapperLog - [sqlId:MainDevice.getAlertByDevice] SELECT
  el.id,
  COUNT(el.id) AS total_alert,
  el.thumbnail,
  eld.`name`
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_level el ON e.id_error_level = el.id
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
WHERE
  a.id_device = 219
  AND e.`status` = 1
  AND el.`status` = 1
  AND d.`status` = 1
  AND a.`status` = 1
  AND el.id IN (1, 6)
GROUP BY
  el.id
ORDER BY
  el.id ASC
[2023-03-16T23:00:24.742] [INFO] SQLMapperLog - param: { id_device: 219, id_language: 2 }
[2023-03-16T23:00:24.744] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:00:24.744] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:00:24.751] [INFO] SQLMapperLog - [sqlId:MainDevice.getAlertByDevice] SELECT
  el.id,
  COUNT(el.id) AS total_alert,
  el.thumbnail,
  eld.`name`
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_level el ON e.id_error_level = el.id
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
WHERE
  a.id_device = 218
  AND e.`status` = 1
  AND el.`status` = 1
  AND d.`status` = 1
  AND a.`status` = 1
  AND el.id IN (1, 6)
GROUP BY
  el.id
ORDER BY
  el.id ASC
[2023-03-16T23:00:24.752] [INFO] SQLMapperLog - param: { id_device: 218, id_language: 2 }
[2023-03-16T23:00:24.758] [INFO] SQLMapperLog - [sqlId:MainDevice.getAlertByDevice] SELECT
  el.id,
  COUNT(el.id) AS total_alert,
  el.thumbnail,
  eld.`name`
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_level el ON e.id_error_level = el.id
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
WHERE
  a.id_device = 185
  AND e.`status` = 1
  AND el.`status` = 1
  AND d.`status` = 1
  AND a.`status` = 1
  AND el.id IN (1, 6)
GROUP BY
  el.id
ORDER BY
  el.id ASC
[2023-03-16T23:00:24.758] [INFO] SQLMapperLog - param: { id_device: 185, id_language: 2 }
[2023-03-16T23:00:24.763] [INFO] SQLMapperLog - [sqlId:MainDevice.getAlertByDevice] SELECT
  el.id,
  COUNT(el.id) AS total_alert,
  el.thumbnail,
  eld.`name`
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_level el ON e.id_error_level = el.id
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
WHERE
  a.id_device = 181
  AND e.`status` = 1
  AND el.`status` = 1
  AND d.`status` = 1
  AND a.`status` = 1
  AND el.id IN (1, 6)
GROUP BY
  el.id
ORDER BY
  el.id ASC
[2023-03-16T23:00:24.763] [INFO] SQLMapperLog - param: { id_device: 181, id_language: 2 }
[2023-03-16T23:00:24.777] [INFO] SQLMapperLog - [sqlId:MainDevice.getSize] SELECT
  count(d.id) totalRow
FROM
  device d
  LEFT JOIN device_type dt ON dt.id = d.id_device_type
  LEFT JOIN device_type_detail dtd ON dtd.id_device_type = dt.id
  AND dtd.id_language = 2
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND d.`status` IN (1, 0)
  AND epm.id_employee = 1
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
    WHERE
      p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
      AND p.`status` = 1
      AND d.`status` = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
    WHERE
      p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
      AND p.`status` = 1
      AND d.`status` = 1
  )
[2023-03-16T23:00:24.777] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_project: null,
  id_device_type: null,
  name: null,
  model: null,
  serial_number: null,
  manufacturer: null,
  installed_at: null,
  description: null,
  status: 1,
  is_virtual: 1,
  menu_order: 0,
  sp_sunrise_sunset: null,
  sp_dc_current_threshold: null,
  sp_time_threshold: null,
  sp_ratio: null,
  enable_performance_index: 0,
  enable_string_performance: 0,
  enable_device_faults: 0,
  enable_zeo_generation: 0,
  enable_system_disconnect: 0,
  pi_index_value: null,
  inverter_efficiency: 0.96,
  system_losses: 0.045,
  temperature_coefficient: -0.47,
  pi_sunrise_sunset: 0.5,
  pi_time_threshold: 0.25,
  zg_sunrise_sunset: 0.5,
  zg_time_threshold: 0.25,
  sd_sunrise_sunset: 0.25,
  sd_time_threshold: 0.25,
  max_ac_output: null,
  panel_temperature: null,
  poa_irradiance: null,
  dc_size: null,
  dc_current_string01: 0,
  dc_current_string02: 0,
  dc_current_string03: 0,
  dc_current_string04: 0,
  dc_current_string05: 0,
  dc_current_string06: 0,
  dc_current_string07: 0,
  dc_current_string08: 0,
  dc_current_string09: 0,
  dc_current_string10: 0,
  dc_current_string11: 0,
  dc_current_string12: 0,
  dc_current_string13: 0,
  dc_current_string14: 0,
  dc_current_string15: 0,
  dc_current_string16: 0,
  dc_current_string17: 0,
  dc_current_string18: 0,
  dc_current_string19: 0,
  dc_current_string20: 0,
  dc_current_string21: 0,
  dc_current_string22: 0,
  dc_current_string24: 0,
  sp_type: 1,
  pi_type: 1,
  limit: 30,
  offset: 0,
  index: 1,
  max_date: '16/03/2023',
  current_date: '2023-03-16 00:00',
  id_language: 2,
  id_employee: 1,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getList',
  lang: 'en',
  lang_default: 'en'
}
[2023-03-16T23:00:26.105] [INFO] SQLMapperLog - [sqlId:ClientDevice.getListParameterByDevice] SELECT
  d.id,
  dp.`name`,
  dp.slug,
  dp.unit
FROM
  device_parameter dp
  LEFT JOIN device_group dg ON dp.id_device_group = dg.id
  LEFT JOIN device d ON dg.id = d.id_device_group
WHERE
  d.id = 419
[2023-03-16T23:00:26.106] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: 419,
  id_device: 'Vinasino-32690600',
  id_project: 39,
  id_device_type: 4,
  name: 'Công ty Cát Anh',
  model: 'VSE3T5_2023',
  serial_number: '32690600',
  manufacturer: 'Vinasino',
  installed_at: '15/03/2023',
  description: null,
  status: 1,
  is_virtual: 1,
  menu_order: 0,
  sp_sunrise_sunset: null,
  sp_dc_current_threshold: null,
  sp_time_threshold: null,
  sp_ratio: null,
  enable_performance_index: 0,
  enable_string_performance: 0,
  enable_device_faults: 0,
  enable_zeo_generation: 0,
  enable_system_disconnect: 0,
  pi_index_value: null,
  inverter_efficiency: 0.96,
  system_losses: 0.045,
  temperature_coefficient: -0.47,
  pi_sunrise_sunset: 0.5,
  pi_time_threshold: 0.25,
  zg_sunrise_sunset: 0.5,
  zg_time_threshold: 0.25,
  sd_sunrise_sunset: 0.25,
  sd_time_threshold: 0.25,
  max_ac_output: null,
  panel_temperature: null,
  poa_irradiance: null,
  dc_size: null,
  dc_current_string01: 0,
  dc_current_string02: 0,
  dc_current_string03: 0,
  dc_current_string04: 0,
  dc_current_string05: 0,
  dc_current_string06: 0,
  dc_current_string07: 0,
  dc_current_string08: 0,
  dc_current_string09: 0,
  dc_current_string10: 0,
  dc_current_string11: 0,
  dc_current_string12: 0,
  dc_current_string13: 0,
  dc_current_string14: 0,
  dc_current_string15: 0,
  dc_current_string16: 0,
  dc_current_string17: 0,
  dc_current_string18: 0,
  dc_current_string19: 0,
  dc_current_string20: 0,
  dc_current_string21: 0,
  dc_current_string22: 0,
  dc_current_string24: 0,
  sp_type: 1,
  pi_type: 1,
  device_type_name: 'Energy Meter',
  device_group_name: 'emeter Vinasino VSE3T5 2023',
  table_name: 'model_emeter_Vinasino_VSE3T52023',
  id_device_group: 31,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  power_now: null,
  energy_today: 1.03,
  last_month: null,
  lifetime: 46208,
  last_updated: '16/03/2023 18:55',
  alerts: [],
  screen_mode: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListParameterByDevice',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:00:26.113] [INFO] SQLMapperLog - [sqlId:ClientDevice.getLastRowDataDevice] SELECT
  dv.*,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y %H:%i:%s') AS last_communication
FROM
  model_emeter_Vinasino_VSE3T52023 dv
  LEFT JOIN device d ON dv.id_device = d.id
WHERE
  dv.id_device = 419
ORDER BY
  dv.`time` DESC
LIMIT
  1;
[2023-03-16T23:00:26.113] [INFO] SQLMapperLog - param: {
  id_device: 419,
  id_language: 2,
  table_name: 'model_emeter_Vinasino_VSE3T52023'
}
[2023-03-16T23:00:27.289] [INFO] SQLMapperLog - [sqlId:MainDevice.getListParameterByDevice] SELECT
  d.id,
  dp.`name`,
  dp.slug,
  dp.unit
FROM
  device_parameter dp
  LEFT JOIN device_group dg ON dp.id_device_group = dg.id
  LEFT JOIN device d ON dg.id = d.id_device_group
WHERE
  d.id = 419
[2023-03-16T23:00:27.290] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: 419,
  id_device: 'Vinasino-32690600',
  id_project: 39,
  id_device_type: 4,
  name: 'Công ty Cát Anh',
  model: 'VSE3T5_2023',
  serial_number: '32690600',
  manufacturer: 'Vinasino',
  installed_at: '15/03/2023',
  description: null,
  status: 1,
  is_virtual: 1,
  menu_order: 0,
  sp_sunrise_sunset: null,
  sp_dc_current_threshold: null,
  sp_time_threshold: null,
  sp_ratio: null,
  enable_performance_index: 0,
  enable_string_performance: 0,
  enable_device_faults: 0,
  enable_zeo_generation: 0,
  enable_system_disconnect: 0,
  pi_index_value: null,
  inverter_efficiency: 0.96,
  system_losses: 0.045,
  temperature_coefficient: -0.47,
  pi_sunrise_sunset: 0.5,
  pi_time_threshold: 0.25,
  zg_sunrise_sunset: 0.5,
  zg_time_threshold: 0.25,
  sd_sunrise_sunset: 0.25,
  sd_time_threshold: 0.25,
  max_ac_output: null,
  panel_temperature: null,
  poa_irradiance: null,
  dc_size: null,
  dc_current_string01: 0,
  dc_current_string02: 0,
  dc_current_string03: 0,
  dc_current_string04: 0,
  dc_current_string05: 0,
  dc_current_string06: 0,
  dc_current_string07: 0,
  dc_current_string08: 0,
  dc_current_string09: 0,
  dc_current_string10: 0,
  dc_current_string11: 0,
  dc_current_string12: 0,
  dc_current_string13: 0,
  dc_current_string14: 0,
  dc_current_string15: 0,
  dc_current_string16: 0,
  dc_current_string17: 0,
  dc_current_string18: 0,
  dc_current_string19: 0,
  dc_current_string20: 0,
  dc_current_string21: 0,
  dc_current_string22: 0,
  dc_current_string24: 0,
  sp_type: 1,
  pi_type: 1,
  device_type_name: 'Energy Meter',
  device_group_name: 'emeter Vinasino VSE3T5 2023',
  table_name: 'model_emeter_Vinasino_VSE3T52023',
  id_device_group: 31,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  power_now: null,
  energy_today: 1.03,
  last_month: null,
  lifetime: 46208,
  last_updated: '16/03/2023 18:55',
  alerts: [],
  screen_mode: 1,
  last_communication: '16/03/2023 18:55:37',
  last_attempt: '16/03/2023 23:00:26',
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListParameterByDevice',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:00:27.298] [INFO] SQLMapperLog - [sqlId:MainDevice.getLastRowDataDevice] SELECT
  dv.*,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y %H:%i:%s') AS last_communication
FROM
  model_emeter_Vinasino_VSE3T52023 dv
  LEFT JOIN device d ON dv.id_device = d.id
WHERE
  dv.id_device = 419
ORDER BY
  dv.`time` DESC
LIMIT
  1;
[2023-03-16T23:00:27.299] [INFO] SQLMapperLog - param: {
  id_device: 419,
  id_language: 2,
  table_name: 'model_emeter_Vinasino_VSE3T52023'
}
[2023-03-16T23:00:28.367] [INFO] SQLMapperLog - [sqlId:ClientAnalytics.getDataChartParameter] SELECT
  dv.time,
  dv.id_device,
  ROUND(AVG(activeEnergy), 1) AS activeEnergy,
  ROUND(AVG(activeEnergyRate1), 1) AS activeEnergyRate1,
  ROUND(AVG(activeEnergyRate2), 1) activeEnergyRate2AS,
  ROUND(AVG(activeEnergyRate3), 1) AS activeEnergyRate3,
  ROUND(AVG(reverseActiveEnergy), 1) AS reverseActiveEnergy,
  ROUND(AVG(reverseActiveEnergyRate1), 1) AS reverseActiveEnergyRate1,
  ROUND(AVG(reverseActiveEnergyRate2), 1) AS reverseActiveEnergyRate2,
  ROUND(AVG(reverseActiveEnergyRate3), 1) AS reverseActiveEnergyRate3,
  ROUND(AVG(reactiveEnergyInductive), 1) AS reactiveEnergyInductive,
  ROUND(AVG(reactiveEnergyInductiveRate1), 1) AS reactiveEnergyInductiveRate1,
  ROUND(AVG(reactiveEnergyInductiveRate2), 1) AS reactiveEnergyInductiveRate2,
  ROUND(AVG(reactiveEnergyInductiveRate3), 1) AS reactiveEnergyInductiveRate3,
  ROUND(AVG(reactiveEnergyCapacitive), 1) AS reactiveEnergyCapacitive,
  ROUND(AVG(reactiveEnergyCapacitiveRate1), 1) AS reactiveEnergyCapacitiveRate1,
  ROUND(AVG(reactiveEnergyCapacitiveRate2), 1) AS reactiveEnergyCapacitiveRate2,
  ROUND(AVG(reactiveEnergyCapacitiveRate3), 1) AS reactiveEnergyCapacitiveRate3,
  ROUND(AVG(currentPhaseA), 1) AS currentPhaseA,
  ROUND(AVG(currentPhaseB), 1) AS currentPhaseB,
  ROUND(AVG(currentPhaseC), 1) AS currentPhaseC,
  ROUND(AVG(voltagePhaseA), 1) AS voltagePhaseA,
  ROUND(AVG(voltagePhaseB), 1) AS voltagePhaseB,
  ROUND(AVG(voltagePhaseC), 1) AS voltagePhaseC,
  ROUND(AVG(powerFrequency), 1) AS powerFrequency,
  ROUND(AVG(activePower), 1) AS activePower,
  ROUND(AVG(reverseActivePower), 1) AS reverseActivePower,
  ROUND(AVG(reactivePower), 1) AS reactivePower,
  ROUND(AVG(reverseReactivePower), 1) AS reverseReactivePower,
  ROUND(AVG(powerFactor), 1) AS powerFactor,
  ROUND(AVG(activePowerPhaseA), 1) AS activePowerPhaseA,
  ROUND(AVG(activePowerPhaseB), 1) AS activePowerPhaseB,
  ROUND(AVG(activePowerPhaseC), 1) AS activePowerPhaseC,
  ROUND(AVG(reverseActivePowerPhaseA), 1) AS reverseActivePowerPhaseA,
  ROUND(AVG(reverseActivePowerPhaseB), 1) AS reverseActivePowerPhaseB,
  ROUND(AVG(reverseActivePowerPhaseC), 1) AS reverseActivePowerPhaseC,
  ROUND(AVG(reactivePowerPhaseA), 1) AS reactivePowerPhaseA,
  ROUND(AVG(reactivePowerPhaseB), 1) AS reactivePowerPhaseB,
  ROUND(AVG(reactivePowerPhaseC), 1) AS reactivePowerPhaseC,
  ROUND(AVG(reverseReactivePowerPhaseA), 1) AS reverseReactivePowerPhaseA,
  ROUND(AVG(reverseReactivePowerPhaseB), 1) AS reverseReactivePowerPhaseB,
  ROUND(AVG(reverseReactivePowerPhaseC), 1) AS reverseReactivePowerPhaseC,
  ROUND(AVG(powerFactorPhaseA), 1) AS powerFactorPhaseA,
  ROUND(AVG(powerFactorPhaseB), 1) AS powerFactorPhaseB,
  ROUND(AVG(powerFactorPhaseC), 1) AS powerFactorPhaseC,
  ROUND(AVG(CTratioPrimary), 1) AS CTratioPrimary,
  ROUND(AVG(CTratioSecondary), 1) AS CTratioSecondary,
  ROUND(AVG(PTratioPrimary), 1) AS PTratioPrimary,
  ROUND(AVG(PTratioSecondary), 1) AS PTratioSecondary,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 300
    ) * 300,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  FROM_UNIXTIME(dv.time, '%d. %b') AS categories_first_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 300
    ) * 300,
    '%H:%i'
  ) AS categories_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 300
    ) * 300,
    '%d/%m/%Y %H:%i'
  ) AS time_group_by
FROM
  model_emeter_Vinasino_VSE3T52023 dv
WHERE
  dv.id_device = 419
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d') = DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
GROUP BY
  time_group_by
[2023-03-16T23:00:28.368] [INFO] SQLMapperLog - param: {
  filterBy: 'today',
  start_date: ' 00:00:00',
  end_date: '2023-03-16 19:00:00',
  data_send_time: 1,
  table_name: 'model_emeter_Vinasino_VSE3T52023',
  id: 419
}
[2023-03-16T23:00:40.846] [INFO] SQLMapperLog - [sqlId:MainReport.getDataReportMonth] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  DATE_FORMAT(NOW(), '%d/%m/%Y') AS current_day,
  DATE_FORMAT(LAST_DAY('2023-03-01 00:00'), '%d') AS last_day,
  DATE_FORMAT('2023-03-01 00:00', '%Y') AS year,
  DATE_FORMAT('2023-03-01 00:00', '%c') AS month,
  DATE_FORMAT('2023-03-01 00:00', '%b') AS month_string,
  DATE_FORMAT('2023-03-01 00:00', '%m/%Y') AS month_year,
  p.config_yi,
  p.config_po,
  p.total_loss_factor,
  p.config_yi1,
  p.config_po1,
  p.total_loss_factor1
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
LIMIT
  1;
SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id;
SELECT
  a.id,
  a.id_error,
  a.id_alert_state,
  FROM_UNIXTIME(a.start_date, '%d/%m/%Y %H:%i') AS start_date_format,
  CASE
    WHEN FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s') < DATE_ADD(NOW(), INTERVAL - 1 DAY) THEN TIMESTAMPDIFF(
      DAY,
      FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s'),
      NOW()
    )
    WHEN FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s') < DATE_ADD(NOW(), INTERVAL - 1 HOUR) THEN TIMESTAMPDIFF(
      HOUR,
      FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s'),
      NOW()
    )
    WHEN FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s') < DATE_ADD(NOW(), INTERVAL - 1 MINUTE) THEN TIMESTAMPDIFF(
      MINUTE,
      FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s'),
      NOW()
    )
    ELSE 0
  END AS times_ago,
  CASE
    WHEN FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s') < DATE_ADD(NOW(), INTERVAL - 1 DAY) THEN 'DAY'
    WHEN FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s') < DATE_ADD(NOW(), INTERVAL - 1 HOUR) THEN 'HOUR'
    WHEN FROM_UNIXTIME(a.start_date, '%Y-%m-%d %H:%i:%s') < DATE_ADD(NOW(), INTERVAL - 1 MINUTE) THEN 'MINUTE'
    ELSE 'NOW'
  END AS times_ago_unit,
  a.end_date,
  a.`status`,
  IF(a.`status` = 1, 'Opened', 'Closed') as status_name,
  a.note,
  ed.message,
  ed.description,
  ed.solutions,
  eld.`name` as error_level_name,
  etd.`name` AS error_type_name,
  el.thumbnail,
  e.id_error_level,
  d.name,
  e.id_error_type,
  0 AS is_checked,
  asd.`name` AS alert_state_name
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN error_type et ON et.id = e.id_error_type
  LEFT JOIN error_type_detail etd ON etd.id_error_type = et.id
  AND etd.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
  LEFT JOIN alert_state als ON als.id = a.id_alert_state
  LEFT JOIN alert_state_detail asd ON asd.id_alert_state = als.id
  AND asd.id_language = 2
WHERE
  a.`status` IN(0, 1)
  AND el.`status` = 1
  AND et.`status` = 1
  AND e.`status` = 1
  AND p.`status` = 1
  AND FROM_UNIXTIME(a.start_date, '%m') = DATE_FORMAT('2023-03-01 00:00', '%m')
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
    WHERE
      p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
      AND p.`status` = 1
      AND d.`status` = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
    WHERE
      p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
      AND p.`status` = 1
      AND d.`status` = 1
  );
[2023-03-16T23:00:40.849] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: '2022-04-01 00:00',
  end_date: '2023-03-01 00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  type: 'private',
  max_date: '03/2023',
  id_employee: 1,
  id_language: 2,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDataReportMonth',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:00:41.123] [INFO] SQLMapperLog - [sqlId:MainReport.dataEnergyMonth] SELECT
  t.time_format,
  t.time_full,
  t.category_time_format,
  t.last_day,
  t.day,
  ROUND((SUM(t.activePower) / 1000), 1) AS activePower,
  ROUND((SUM(t.activeEnergy) / 1000), 1) AS activeEnergy,
  ROUND((SUM(t.max_activeEnergy) / 1000), 1) AS max_activeEnergy,
  ROUND((SUM(t.min_activeEnergy) / 1000), 1) AS min_activeEnergy
FROM
  (
    SELECT
      m.time,
      m.time_format,
      m.time_full,
      m.activePower,
      m.category_time_format,
      SUM(m.activeEnergy) AS activeEnergy,
      SUM(m.max_activeEnergy) AS max_activeEnergy,
      SUM(m.min_activeEnergy) AS min_activeEnergy,
      m.last_day,
      m.day,
      m.group_day
    FROM
      (
        SELECT
          dv.time,
          FROM_UNIXTIME(dv.time, '%Y-%m-%d') AS time_format,
          FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS time_full,
          FROM_UNIXTIME(dv.time, '%e') AS day,
          DATE_FORMAT(LAST_DAY('2023-03-01 00:00'), '%d') AS last_day,
          FROM_UNIXTIME(dv.time, '%e. %b') AS category_time_format,
          SUM(dv.activePower) AS activePower,
          MAX(dv.activeEnergy) AS max_activeEnergy,
          MIN(dv.activeEnergy) AS min_activeEnergy,
          ROUND(
            (
              MAX(dv.activeEnergy) - MIN(dv.activeEnergy)
            ),
            1
          ) AS activeEnergy,
          FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
        FROM
          model_inverter_SMA_SHP75 dv
          LEFT JOIN device d ON d.id = dv.id_device
          LEFT JOIN project p ON p.id = d.id_project
        WHERE
          p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
          AND d.id_device_group = 20
          AND FROM_UNIXTIME(dv.time, '%m') = DATE_FORMAT('2023-03-01 00:00', '%m')
          AND FROM_UNIXTIME(dv.time, '%Y') = DATE_FORMAT('2023-03-01 00:00', '%Y')
          AND p.`status` = 1
          AND d.`status` = 1
          AND dv.activeEnergy > 0
        GROUP BY
          time_format,
          d.id
      ) m
    GROUP BY
      m.time_format
  ) t
GROUP BY
  t.time_format
[2023-03-16T23:00:41.123] [INFO] SQLMapperLog - param: {
  groupInverter: [
    {
      hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
      id_device_group: 20,
      start_date: '2022-04-01 00:00',
      end_date: '2023-03-01 00:00',
      table_name: 'model_inverter_SMA_SHP75'
    }
  ],
  item: {
    hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
    id_device_group: 20,
    start_date: '2022-04-01 00:00',
    end_date: '2023-03-01 00:00',
    table_name: 'model_inverter_SMA_SHP75'
  }
}
[2023-03-16T23:00:48.147] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getListDeviceByProject] SELECT
  d.id,
  d.`name`,
  d.id_project,
  d.id_device_group,
  0 AS is_checked,
  dg.`name` AS device_group_name,
  dg.table_name,
  d.`name` AS device_name,
  d.id_device_type
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
  AND d.`status` = 1
  AND p.`status` = 1
UNION ALL
SELECT
  d.id,
  d.`name`,
  d.id_project,
  d.id_device_group,
  0 AS is_checked,
  dg.`name` AS device_group_name,
  dg.table_name,
  d.`name` AS device_name,
  d.id_device_type
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN project p ON p.id = pm.id_project
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
  AND d.`status` = 1
  AND p.`status` = 1
[2023-03-16T23:00:48.147] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListDeviceByProject',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:00:48.162] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getParameterByDevice] SELECT
  d.id AS id_device,
  dp.id,
  dp.`name`,
  dp.slug,
  dp.unit,
  dp.id_device_group,
  d.`name` AS device_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN device_parameter dp ON dp.id_device_group = dg.id
WHERE
  d.id = 181
  AND d.`status` = 1
  AND dg.`status` = 1
  AND dp.`status` = 1
[2023-03-16T23:00:48.162] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 181,
  name: 'E14-15-SMA75-02',
  id_project: 39,
  id_device_group: 20,
  is_checked: 0,
  device_group_name: 'inverter-SMA-SHP75',
  table_name: 'model_inverter_SMA_SHP75',
  device_name: 'E14-15-SMA75-02',
  id_device_type: 1
}
[2023-03-16T23:00:48.172] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getParameterByDevice] SELECT
  d.id AS id_device,
  dp.id,
  dp.`name`,
  dp.slug,
  dp.unit,
  dp.id_device_group,
  d.`name` AS device_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN device_parameter dp ON dp.id_device_group = dg.id
WHERE
  d.id = 185
  AND d.`status` = 1
  AND dg.`status` = 1
  AND dp.`status` = 1
[2023-03-16T23:00:48.173] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 185,
  name: 'E14-15-SMA75-01',
  id_project: 39,
  id_device_group: 20,
  is_checked: 0,
  device_group_name: 'inverter-SMA-SHP75',
  table_name: 'model_inverter_SMA_SHP75',
  device_name: 'E14-15-SMA75-01',
  id_device_type: 1
}
[2023-03-16T23:00:48.182] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getParameterByDevice] SELECT
  d.id AS id_device,
  dp.id,
  dp.`name`,
  dp.slug,
  dp.unit,
  dp.id_device_group,
  d.`name` AS device_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN device_parameter dp ON dp.id_device_group = dg.id
WHERE
  d.id = 218
  AND d.`status` = 1
  AND dg.`status` = 1
  AND dp.`status` = 1
[2023-03-16T23:00:48.182] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 218,
  name: 'E14-17-SMA-IM20-125',
  id_project: 39,
  id_device_group: 27,
  is_checked: 0,
  device_group_name: 'Techedge',
  table_name: 'model_techedge',
  device_name: 'E14-17-SMA-IM20-125',
  id_device_type: 5
}
[2023-03-16T23:00:48.189] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getParameterByDevice] SELECT
  d.id AS id_device,
  dp.id,
  dp.`name`,
  dp.slug,
  dp.unit,
  dp.id_device_group,
  d.`name` AS device_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN device_parameter dp ON dp.id_device_group = dg.id
WHERE
  d.id = 219
  AND d.`status` = 1
  AND dg.`status` = 1
  AND dp.`status` = 1
[2023-03-16T23:00:48.189] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 219,
  name: 'E14-17-Gateway-24',
  id_project: 39,
  id_device_group: 27,
  is_checked: 0,
  device_group_name: 'Techedge',
  table_name: 'model_techedge',
  device_name: 'E14-17-Gateway-24',
  id_device_type: 6
}
[2023-03-16T23:00:48.196] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getParameterByDevice] SELECT
  d.id AS id_device,
  dp.id,
  dp.`name`,
  dp.slug,
  dp.unit,
  dp.id_device_group,
  d.`name` AS device_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN device_parameter dp ON dp.id_device_group = dg.id
WHERE
  d.id = 419
  AND d.`status` = 1
  AND dg.`status` = 1
  AND dp.`status` = 1
[2023-03-16T23:00:48.197] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 419,
  name: 'Công ty Cát Anh',
  id_project: 39,
  id_device_group: 31,
  is_checked: 0,
  device_group_name: 'emeter Vinasino VSE3T5 2023',
  table_name: 'model_emeter_Vinasino_VSE3T52023',
  device_name: 'Công ty Cát Anh',
  id_device_type: 4
}
[2023-03-16T23:00:48.244] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getDataChartParameter] SELECT
  dv.time,
  dv.id_device,
  ROUND(AVG(dv.acCurrent), 1) AS acCurrent,
  ROUND(AVG(dv.currentPhaseA), 1) AS currentPhaseA,
  ROUND(AVG(dv.currentPhaseB), 1) AS currentPhaseB,
  ROUND(AVG(dv.currentPhaseC), 1) AS currentPhaseC,
  ROUND(AVG(dv.voltagePhaseA), 1) AS voltagePhaseA,
  ROUND(AVG(dv.voltagePhaseB), 1) AS voltagePhaseB,
  ROUND(AVG(dv.voltagePhaseC), 1) AS voltagePhaseC,
  ROUND(AVG(dv.activePower), 1) AS activePower,
  ROUND(AVG(dv.powerFrequency), 1) AS powerFrequency,
  ROUND(AVG(dv.apparentPower), 1) AS apparentPower,
  ROUND(AVG(dv.reactivePower), 1) AS reactivePower,
  ROUND(AVG(dv.powerFactor), 1) AS powerFactor,
  ROUND(AVG(dv.activeEnergy), 1) AS activeEnergy,
  ROUND(AVG(dv.dcCurrent), 1) AS dcCurrent,
  ROUND(AVG(dv.dcVoltage), 1) AS dcVoltage,
  ROUND(AVG(dv.dcPower), 1) AS dcPower,
  ROUND(AVG(dv.internalTemperature), 1) AS internalTemperature,
  ROUND(AVG(dv.heatSinkTemperature), 1) AS heatSinkTemperature,
  ROUND(AVG(dv.transformerTemperature), 1) AS transformerTemperature,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  FROM_UNIXTIME(dv.time, '%d. %b') AS categories_first_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%H:%i'
  ) AS categories_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_group_by
FROM
  model_inverter_SMA_SHP75 dv
WHERE
  dv.id_device = 181
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d') = DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
GROUP BY
  time_group_by
[2023-03-16T23:00:48.245] [INFO] SQLMapperLog - param: {
  filterBy: 'today',
  start_date: '2023-03-16 00:00:00',
  end_date: '2023-03-16 19:00:00',
  data_send_time: 2,
  table_name: 'model_inverter_SMA_SHP75',
  id: 181
}
[2023-03-16T23:00:48.336] [INFO] SQLMapperLog - [sqlId:MainAnalytics.getDataChartParameter] SELECT
  dv.time,
  dv.id_device,
  ROUND(AVG(dv.acCurrent), 1) AS acCurrent,
  ROUND(AVG(dv.currentPhaseA), 1) AS currentPhaseA,
  ROUND(AVG(dv.currentPhaseB), 1) AS currentPhaseB,
  ROUND(AVG(dv.currentPhaseC), 1) AS currentPhaseC,
  ROUND(AVG(dv.voltagePhaseA), 1) AS voltagePhaseA,
  ROUND(AVG(dv.voltagePhaseB), 1) AS voltagePhaseB,
  ROUND(AVG(dv.voltagePhaseC), 1) AS voltagePhaseC,
  ROUND(AVG(dv.activePower), 1) AS activePower,
  ROUND(AVG(dv.powerFrequency), 1) AS powerFrequency,
  ROUND(AVG(dv.apparentPower), 1) AS apparentPower,
  ROUND(AVG(dv.reactivePower), 1) AS reactivePower,
  ROUND(AVG(dv.powerFactor), 1) AS powerFactor,
  ROUND(AVG(dv.activeEnergy), 1) AS activeEnergy,
  ROUND(AVG(dv.dcCurrent), 1) AS dcCurrent,
  ROUND(AVG(dv.dcVoltage), 1) AS dcVoltage,
  ROUND(AVG(dv.dcPower), 1) AS dcPower,
  ROUND(AVG(dv.internalTemperature), 1) AS internalTemperature,
  ROUND(AVG(dv.heatSinkTemperature), 1) AS heatSinkTemperature,
  ROUND(AVG(dv.transformerTemperature), 1) AS transformerTemperature,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  FROM_UNIXTIME(dv.time, '%d. %b') AS categories_first_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%H:%i'
  ) AS categories_time,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_group_by
FROM
  model_inverter_SMA_SHP75 dv
WHERE
  dv.id_device = 185
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d') = DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-03-16 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
GROUP BY
  time_group_by
[2023-03-16T23:00:48.337] [INFO] SQLMapperLog - param: {
  filterBy: 'today',
  start_date: '2023-03-16 00:00:00',
  end_date: '2023-03-16 19:00:00',
  data_send_time: 2,
  table_name: 'model_inverter_SMA_SHP75',
  id: 185
}
[2023-03-16T23:01:01.516] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-03-16T23:01:01.516] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:01:01.545] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-03-16T23:01:01.547] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-03-16T23:01:01.557] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:01:01.558] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:01:01.570] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:01:01.570] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:01:01.577] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:01:01.578] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:01:01.583] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:01:01.583] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:01:01.590] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:01:01.591] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:01:01.635] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-03-16T23:01:01.635] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-03-16T23:01:12.737] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-03-16T23:01:12.738] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: '2023-03-15 00:00:00',
  end_date: '2023-03-15 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:01:12.749] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'd4cfd0dd677c5fbb20a7ba33efa07b72'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-03-16T23:01:12.750] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: '2023-03-15 00:00:00',
  end_date: '2023-03-15 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'vi'
}
[2023-03-16T23:01:12.767] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_SHP75 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-03-15 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 181
GROUP BY
  time_format
[2023-03-16T23:01:12.768] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 181,
  id_project: 39,
  id_device_group: 20,
  table_name: 'model_inverter_SMA_SHP75',
  start_date: '2023-03-15 00:00:00',
  end_date: '2023-03-15 19:00:00'
}
[2023-03-16T23:01:12.780] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_SHP75 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-03-15 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-03-15 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 185
GROUP BY
  time_format
[2023-03-16T23:01:12.781] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 185,
  id_project: 39,
  id_device_group: 20,
  table_name: 'model_inverter_SMA_SHP75',
  start_date: '2023-03-15 00:00:00',
  end_date: '2023-03-15 19:00:00'
}
[2023-04-08T14:01:10.762] [INFO] SQLMapperLog - [sqlId:Employee.getEmployeeLogin] SELECT
  e.id,
  e.`password`,
  e.first_name,
  e.last_name,
  e.id AS id_employee,
  e.salt,
  e.email,
  avatar,
  concat(e.first_name, ' ', e.last_name) AS `full_name`,
  GROUP_CONCAT(erm.id_role SEPARATOR ',') AS id_roles
FROM
  employee e
  LEFT JOIN employee_role_map erm ON erm.id_employee = e.id
  LEFT JOIN role r ON r.id = erm.id_role
WHERE
  e.email = 'thanhan27011989@gmail.com'
  AND e.`status` = 1
  AND r.`status` = 1
GROUP BY
  e.id;
[2023-04-08T14:01:10.763] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  first_name: null,
  last_name: null,
  full_name: null,
  phone: null,
  email: 'thanhan27011989@gmail.com',
  password: '807ea8a3314d70414543a3fa7c653b8e16bff5a9da61c7042440d970c19ebb8995fd283fa2f4f97a7d7fec3bb2313239549333e2fbe2ab1ccef8ea19753ec3f3',
  salt: null,
  birthday: null,
  avatar: null,
  token: null,
  status: null,
  gender: null,
  lang: 'vi',
  action: 'login',
  lang_default: 'vi',
  id_company: null
}
[2023-04-08T14:01:16.075] [INFO] SQLMapperLog - [sqlId:Employee.getEmployeeLogin] SELECT
  e.id,
  e.`password`,
  e.first_name,
  e.last_name,
  e.id AS id_employee,
  e.salt,
  e.email,
  avatar,
  concat(e.first_name, ' ', e.last_name) AS `full_name`,
  GROUP_CONCAT(erm.id_role SEPARATOR ',') AS id_roles
FROM
  employee e
  LEFT JOIN employee_role_map erm ON erm.id_employee = e.id
  LEFT JOIN role r ON r.id = erm.id_role
WHERE
  e.email = 'thanhan27011989@gmail.com'
  AND e.`status` = 1
  AND r.`status` = 1
GROUP BY
  e.id;
[2023-04-08T14:01:16.075] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  first_name: null,
  last_name: null,
  full_name: null,
  phone: null,
  email: 'thanhan27011989@gmail.com',
  password: '8b532a0de86e3f0e06c1c6c082b8341cd3820e2f205f82763e6ff9af7f71c3ffe8db5b26f4497de51d61403459a4f4a5fd473bd8b2d2348811e39b565f84a0b3',
  salt: null,
  birthday: null,
  avatar: null,
  token: null,
  status: null,
  gender: null,
  lang: 'vi',
  action: 'login',
  lang_default: 'vi',
  id_company: null
}
[2023-04-08T14:01:22.561] [INFO] SQLMapperLog - [sqlId:Employee.getEmployeeLogin] SELECT
  e.id,
  e.`password`,
  e.first_name,
  e.last_name,
  e.id AS id_employee,
  e.salt,
  e.email,
  avatar,
  concat(e.first_name, ' ', e.last_name) AS `full_name`,
  GROUP_CONCAT(erm.id_role SEPARATOR ',') AS id_roles
FROM
  employee e
  LEFT JOIN employee_role_map erm ON erm.id_employee = e.id
  LEFT JOIN role r ON r.id = erm.id_role
WHERE
  e.email = 'thanhan27011989@gmail.com'
  AND e.`status` = 1
  AND r.`status` = 1
GROUP BY
  e.id;
[2023-04-08T14:01:22.562] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  first_name: null,
  last_name: null,
  full_name: null,
  phone: null,
  email: 'thanhan27011989@gmail.com',
  password: 'b2686bf4df3ba29e9a74ccf6c2a42c6b053633d2f4db33a2984f70ec3294b2d2d5e8db49f76a3c689c87755ed4ca5828929eb8acca405143fc1949e107cb180a',
  salt: null,
  birthday: null,
  avatar: null,
  token: null,
  status: null,
  gender: null,
  lang: 'vi',
  action: 'login',
  lang_default: 'vi',
  id_company: null
}
[2023-04-08T14:01:22.582] [INFO] SQLMapperLog - [sqlId:Employee.getEmployeePermissions] SELECT
  m.id,
  m.id_screen,
  m.screen_name,
  IF(m.class_icon != '', m.class_icon, '') AS class_icon,
  m.has_child,
  m.`level`,
  m.parent,
  m.module_path,
  m.group_type,
  (
    MAX(m.`view`) + MAX(m.`new`) + MAX(m.`delete`) + MAX(m.`edit`) + MAX(m.`excel`) + MAX(m.`pdf`) + MAX(m.`print`) + MAX(m.`translate`) + MAX(m.`approval`)
  ) AS auths
FROM
  (
    SELECT
      rd.`name` AS role_name,
      erm.id_role,
      sd.screen_name,
      s.id AS id_screen,
      s.path as module_path,
      s.class_icon,
      s.has_child,
      s.`level`,
      s.parent,
      s.id,
      s.group_type,
      rpsm.auths,
      (IFNULL(rpsm.auths, 0) & 1) AS `view`,
      (IFNULL(rpsm.auths, 0) & 2) AS `new`,
      (IFNULL(rpsm.auths, 0) & 4) AS `delete`,
      (IFNULL(rpsm.auths, 0) & 8) AS `edit`,
      (IFNULL(rpsm.auths, 0) & 16) AS `excel`,
      (IFNULL(rpsm.auths, 0) & 32) AS `pdf`,
      (IFNULL(rpsm.auths, 0) & 64) AS `print`,
      (IFNULL(rpsm.auths, 0) & 128) AS `translate`,
      (IFNULL(rpsm.auths, 0) & 256) AS `approval`
    FROM
      employee e
      LEFT JOIN employee_role_map erm ON e.id = erm.id_employee
      LEFT JOIN role r ON r.id = erm.id_role
      LEFT JOIN role_detail rd ON rd.id_role = r.id
      AND rd.id_language = 1
      LEFT JOIN role_screen_map rpsm ON r.id = rpsm.id_role
      LEFT JOIN screen s ON s.id = rpsm.id_screen
      LEFT JOIN screen_detail sd ON sd.id_screen = s.id
      AND sd.id_language = 1
      LEFT JOIN `language` l ON l.id = rd.id_language
    WHERE
      l.id = 1
      AND e.`status` = 1
      AND r.`status` = 1
      AND s.`status` = 1
      AND l.`status` = 1
      AND r.id IN ('1')
    ORDER BY
      r.id ASC
  ) AS m
GROUP BY
  m.id_screen
[2023-04-08T14:01:22.582] [INFO] SQLMapperLog - param: {
  id_company: undefined,
  id_employee: 1,
  id_roles: [ '1' ],
  lang: 'vi',
  id_language: undefined,
  item: '1'
}
[2023-04-08T14:01:22.610] [INFO] SQLMapperLog - [sqlId:Employee.getListLanguage] SELECT
  l.id,
  l.`name`,
  l.iso_code,
  l.icon,
  l.is_default
FROM
  `language` l
WHERE
  l.`status` = 1
ORDER BY
  l.is_default DESC
[2023-04-08T14:01:22.610] [INFO] SQLMapperLog - param: { id_company: undefined }
[2023-04-08T14:01:23.013] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:01:23.014] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:01:23.050] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:01:23.050] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:01:23.085] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:01:23.085] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:01:23.088] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:01:23.088] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:01:23.119] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:01:23.119] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:01:23.127] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:01:23.127] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:01:23.136] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:01:23.136] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:01:23.146] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:01:23.146] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:01:23.153] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:01:23.153] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:01:24.499] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.500] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 120.691,
  lifetime: 156434027,
  energy_today: 198.84080000000006
}
[2023-04-08T14:01:24.514] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:01:24.514] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 120.691,
  lifetime: 156434027,
  energy_today: 198.84080000000006
}
[2023-04-08T14:01:24.529] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.529] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 372.09,
  lifetime: 859095476.6,
  energy_today: 1247.2816
}
[2023-04-08T14:01:24.541] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:01:24.541] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 372.09,
  lifetime: 859095476.6,
  energy_today: 1247.2816
}
[2023-04-08T14:01:24.553] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.553] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 128.383,
  lifetime: 499004388,
  energy_today: 526.2888
}
[2023-04-08T14:01:24.564] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:01:24.564] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 128.383,
  lifetime: 499004388,
  energy_today: 526.2888
}
[2023-04-08T14:01:24.579] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.579] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 282.6,
  lifetime: 1767712253,
  energy_today: 1747.589
}
[2023-04-08T14:01:24.594] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:01:24.594] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 282.6,
  lifetime: 1767712253,
  energy_today: 1747.589
}
[2023-04-08T14:01:24.608] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.608] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 37.749,
  lifetime: 2241514354.9,
  energy_today: 4274.5431
}
[2023-04-08T14:01:24.621] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:01:24.621] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 37.749,
  lifetime: 2241514354.9,
  energy_today: 4274.5431
}
[2023-04-08T14:01:24.635] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.636] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 13:55',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 138.52,
  lifetime: 1297746922.2,
  energy_today: 2337.9922
}
[2023-04-08T14:01:24.652] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:01:24.652] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 13:55',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 138.52,
  lifetime: 1297746922.2,
  energy_today: 2337.9922
}
[2023-04-08T14:01:24.667] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.667] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 724.481,
  lifetime: 3854391956,
  energy_today: 4509.324
}
[2023-04-08T14:01:24.680] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:01:24.680] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 724.481,
  lifetime: 3854391956,
  energy_today: 4509.324
}
[2023-04-08T14:01:24.700] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.701] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1325.438,
  lifetime: 4150336228,
  energy_today: 5461.058599999999
}
[2023-04-08T14:01:24.710] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:01:24.710] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1325.438,
  lifetime: 4150336228,
  energy_today: 5461.058599999999
}
[2023-04-08T14:01:24.722] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.722] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 696.79,
  lifetime: 3524830174.6000004,
  energy_today: 3789.0304000000006
}
[2023-04-08T14:01:24.730] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:01:24.730] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 696.79,
  lifetime: 3524830174.6000004,
  energy_today: 3789.0304000000006
}
[2023-04-08T14:01:24.749] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.749] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 496.43,
  lifetime: 1843523457,
  energy_today: 2183.2291
}
[2023-04-08T14:01:24.757] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:01:24.758] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 496.43,
  lifetime: 1843523457,
  energy_today: 2183.2291
}
[2023-04-08T14:01:24.771] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.771] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 685.849,
  lifetime: 3057400021,
  energy_today: 3884.4471000000003
}
[2023-04-08T14:01:24.783] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:01:24.783] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 685.849,
  lifetime: 3057400021,
  energy_today: 3884.4471000000003
}
[2023-04-08T14:01:24.797] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.798] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 128.144,
  lifetime: 691309360,
  energy_today: 744.1315
}
[2023-04-08T14:01:24.810] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:01:24.810] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 128.144,
  lifetime: 691309360,
  energy_today: 744.1315
}
[2023-04-08T14:01:24.823] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.824] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 222.455,
  lifetime: 627332127.4,
  energy_today: 812.189
}
[2023-04-08T14:01:24.837] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:01:24.838] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 222.455,
  lifetime: 627332127.4,
  energy_today: 812.189
}
[2023-04-08T14:01:24.850] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.850] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 513.427,
  lifetime: 2710834880.4,
  energy_today: 3189.457
}
[2023-04-08T14:01:24.866] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:01:24.866] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 513.427,
  lifetime: 2710834880.4,
  energy_today: 3189.457
}
[2023-04-08T14:01:24.880] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.881] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 803.58,
  lifetime: 1380724712.3,
  energy_today: 1562.8254
}
[2023-04-08T14:01:24.895] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:01:24.896] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 803.58,
  lifetime: 1380724712.3,
  energy_today: 1562.8254
}
[2023-04-08T14:01:24.917] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:01:24.917] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 325.31,
  lifetime: 1419688837,
  energy_today: 1571.4784
}
[2023-04-08T14:01:24.930] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:01:24.930] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 325.31,
  lifetime: 1419688837,
  energy_today: 1571.4784
}
[2023-04-08T14:01:24.954] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:01:24.954] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:02:26.757] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:02:26.757] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:02:26.791] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:02:26.791] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:02:26.802] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:26.802] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:26.812] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:26.812] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:26.825] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:26.825] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:26.834] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:26.834] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:26.844] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:26.844] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:26.853] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:26.853] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:43.203] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:02:43.203] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:02:43.222] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:02:43.222] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:02:43.231] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:43.231] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:43.239] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:43.239] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:43.257] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:43.257] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:43.268] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:43.269] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:43.284] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:43.285] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:02:43.293] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:02:43.293] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:06.405] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:03:06.405] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:03:06.425] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:03:06.425] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:03:06.432] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:06.432] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:06.440] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:06.441] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:06.450] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:06.450] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:06.458] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:06.458] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:06.471] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:06.471] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:06.476] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:06.476] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:55.942] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:03:55.943] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:03:55.964] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:03:55.964] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:03:55.972] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:55.972] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:55.981] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:55.981] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:55.989] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:55.989] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:56.000] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:56.000] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:56.007] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:56.008] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:03:56.025] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:03:56.025] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:07.174] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:04:07.175] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:04:07.193] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:04:07.193] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:04:07.206] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:04:07.206] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:07.213] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:04:07.213] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:07.221] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:04:07.221] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:07.230] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:04:07.230] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:07.656] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:04:07.656] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:07.673] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:04:07.674] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:04:36.094] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  name asc
LIMIT
  0, 16
[2023-04-08T14:04:36.095] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'asc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:04:36.981] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:36.981] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 491.466,
  lifetime: 2710877529.4,
  energy_today: 3232.106
}
[2023-04-08T14:04:36.991] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:04:36.992] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 491.466,
  lifetime: 2710877529.4,
  energy_today: 3232.106
}
[2023-04-08T14:04:37.002] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.002] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 749.54,
  lifetime: 1380745035,
  energy_today: 1583.1480999999999
}
[2023-04-08T14:04:37.011] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:04:37.011] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 749.54,
  lifetime: 1380745035,
  energy_today: 1583.1480999999999
}
[2023-04-08T14:04:37.021] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.021] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 314.65,
  lifetime: 1419709642.2,
  energy_today: 1592.2836000000002
}
[2023-04-08T14:04:37.032] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:04:37.032] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 314.65,
  lifetime: 1419709642.2,
  energy_today: 1592.2836000000002
}
[2023-04-08T14:04:37.042] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.043] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 691.216,
  lifetime: 3854450773,
  energy_today: 4568.141
}
[2023-04-08T14:04:37.062] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:04:37.063] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 691.216,
  lifetime: 3854450773,
  energy_today: 4568.141
}
[2023-04-08T14:04:37.071] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.071] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 658.072,
  lifetime: 3057451261.9,
  energy_today: 3935.688
}
[2023-04-08T14:04:37.080] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:04:37.080] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 658.072,
  lifetime: 3057451261.9,
  energy_today: 3935.688
}
[2023-04-08T14:04:37.090] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.090] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 230.683,
  lifetime: 627342885,
  energy_today: 822.9466
}
[2023-04-08T14:04:37.103] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:04:37.103] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 230.683,
  lifetime: 627342885,
  energy_today: 822.9466
}
[2023-04-08T14:04:37.109] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.109] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.49,
  lifetime: 859111471.2,
  energy_today: 1263.2762
}
[2023-04-08T14:04:37.115] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:04:37.115] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.49,
  lifetime: 859111471.2,
  energy_today: 1263.2762
}
[2023-04-08T14:04:37.121] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 37
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.121] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.13,
  lifetime: 711115993,
  energy_today: 940.2363999999999
}
[2023-04-08T14:04:37.131] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 37
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 37
[2023-04-08T14:04:37.131] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.13,
  lifetime: 711115993,
  energy_today: 940.2363999999999
}
[2023-04-08T14:04:37.141] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.141] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1305.465,
  lifetime: 4150408404.6,
  energy_today: 5533.2352
}
[2023-04-08T14:04:37.152] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:04:37.154] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1305.465,
  lifetime: 4150408404.6,
  energy_today: 5533.2352
}
[2023-04-08T14:04:37.168] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 38
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.168] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 287.139,
  lifetime: 1689442689.8,
  energy_today: 1994.8868
}
[2023-04-08T14:04:37.176] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 38
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 38
[2023-04-08T14:04:37.177] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 287.139,
  lifetime: 1689442689.8,
  energy_today: 1994.8868
}
[2023-04-08T14:04:37.188] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 39
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.188] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 15.0287,
  lifetime: 418165044.8,
  energy_today: 466.085
}
[2023-04-08T14:04:37.205] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 39
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 39
[2023-04-08T14:04:37.205] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 15.0287,
  lifetime: 418165044.8,
  energy_today: 466.085
}
[2023-04-08T14:04:37.216] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 40
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.217] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 545.42,
  lifetime: 1731631591.4,
  energy_today: 2710.2188
}
[2023-04-08T14:04:37.225] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 40
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 40
[2023-04-08T14:04:37.225] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 545.42,
  lifetime: 1731631591.4,
  energy_today: 2710.2188
}
[2023-04-08T14:04:37.240] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.240] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 676.91,
  lifetime: 3524880111,
  energy_today: 3838.9667999999997
}
[2023-04-08T14:04:37.246] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:04:37.246] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 676.91,
  lifetime: 3524880111,
  energy_today: 3838.9667999999997
}
[2023-04-08T14:04:37.253] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.253] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 485.11,
  lifetime: 1843551753,
  energy_today: 2211.5251000000003
}
[2023-04-08T14:04:37.261] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:04:37.261] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 485.11,
  lifetime: 1843551753,
  energy_today: 2211.5251000000003
}
[2023-04-08T14:04:37.269] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 34
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.269] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 785.55,
  lifetime: 2438588265.4,
  energy_today: 2779.8292
}
[2023-04-08T14:04:37.279] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 34
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 34
[2023-04-08T14:04:37.279] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 785.55,
  lifetime: 2438588265.4,
  energy_today: 2779.8292
}
[2023-04-08T14:04:37.288] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:37.293] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 271.01,
  lifetime: 1767735414,
  energy_today: 1770.75
}
[2023-04-08T14:04:37.301] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:04:37.301] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 271.01,
  lifetime: 1767735414,
  energy_today: 1770.75
}
[2023-04-08T14:04:37.316] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:04:37.317] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'asc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:04:39.126] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  name desc
LIMIT
  0, 16
[2023-04-08T14:04:39.126] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'desc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:04:40.356] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.357] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.992,
  lifetime: 691319150.5,
  energy_today: 753.922
}
[2023-04-08T14:04:40.369] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:04:40.369] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.992,
  lifetime: 691319150.5,
  energy_today: 753.922
}
[2023-04-08T14:04:40.380] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 46
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.380] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 307.66,
  lifetime: 1543240040,
  energy_today: 1639
}
[2023-04-08T14:04:40.389] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 46
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 46
[2023-04-08T14:04:40.390] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 307.66,
  lifetime: 1543240040,
  energy_today: 1639
}
[2023-04-08T14:04:40.403] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 50
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.403] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 50,
  hash_id: '638236fa92da7b7ec900b1e9b982cca1',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '493 kWp',
  installed_power_client: '493 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Tuệ Cang - PK07000175587',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 70345.97,
  power_now: 284.33,
  lifetime: 1289861060,
  energy_today: 1679.03
}
[2023-04-08T14:04:40.411] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 50
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 50
[2023-04-08T14:04:40.411] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 50,
  hash_id: '638236fa92da7b7ec900b1e9b982cca1',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '493 kWp',
  installed_power_client: '493 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Tuệ Cang - PK07000175587',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 70345.97,
  power_now: 284.33,
  lifetime: 1289861060,
  energy_today: 1679.03
}
[2023-04-08T14:04:40.421] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 44
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.421] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 101.43,
  lifetime: 563839980,
  energy_today: 624.96
}
[2023-04-08T14:04:40.436] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 44
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 44
[2023-04-08T14:04:40.436] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 101.43,
  lifetime: 563839980,
  energy_today: 624.96
}
[2023-04-08T14:04:40.453] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 48
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.454] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 462.39,
  lifetime: 2399867100,
  energy_today: 2604.06
}
[2023-04-08T14:04:40.462] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 48
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 48
[2023-04-08T14:04:40.463] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 462.39,
  lifetime: 2399867100,
  energy_today: 2604.06
}
[2023-04-08T14:04:40.473] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 49
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.473] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 232.07,
  lifetime: 1227265000,
  energy_today: 1309.94
}
[2023-04-08T14:04:40.481] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 49
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 49
[2023-04-08T14:04:40.482] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 232.07,
  lifetime: 1227265000,
  energy_today: 1309.94
}
[2023-04-08T14:04:40.491] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.492] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.679,
  lifetime: 499010863.8,
  energy_today: 532.7646
}
[2023-04-08T14:04:40.500] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:04:40.500] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.679,
  lifetime: 499010863.8,
  energy_today: 532.7646
}
[2023-04-08T14:04:40.511] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 42
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.511] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 382.2,
  lifetime: 1806901058,
  energy_today: 1931.146
}
[2023-04-08T14:04:40.531] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 42
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 42
[2023-04-08T14:04:40.532] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 382.2,
  lifetime: 1806901058,
  energy_today: 1931.146
}
[2023-04-08T14:04:40.545] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.545] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:03',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 425.44,
  lifetime: 1238709367,
  energy_today: 1552.754
}
[2023-04-08T14:04:40.562] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 41
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 41
[2023-04-08T14:04:40.564] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:03',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 425.44,
  lifetime: 1238709367,
  energy_today: 1552.754
}
[2023-04-08T14:04:40.578] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.578] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 122.943,
  lifetime: 156436634.4,
  energy_today: 201.44819999999996
}
[2023-04-08T14:04:40.584] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:04:40.584] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 122.943,
  lifetime: 156436634.4,
  energy_today: 201.44819999999996
}
[2023-04-08T14:04:40.592] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 43
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.592] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 304.08418,
  lifetime: 2590365266.62,
  energy_today: 2881.53512
}
[2023-04-08T14:04:40.599] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 43
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 43
[2023-04-08T14:04:40.599] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 304.08418,
  lifetime: 2590365266.62,
  energy_today: 2881.53512
}
[2023-04-08T14:04:40.608] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 45
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.608] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 180.42,
  lifetime: 1108192020,
  energy_today: 1407.04
}
[2023-04-08T14:04:40.616] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 45
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 45
[2023-04-08T14:04:40.616] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 180.42,
  lifetime: 1108192020,
  energy_today: 1407.04
}
[2023-04-08T14:04:40.627] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 47
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.627] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 441.6,
  lifetime: 2277332060,
  energy_today: 2493.04
}
[2023-04-08T14:04:40.637] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 47
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 47
[2023-04-08T14:04:40.637] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 441.6,
  lifetime: 2277332060,
  energy_today: 2493.04
}
[2023-04-08T14:04:40.646] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 36
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.647] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 350.26,
  lifetime: 1860406192,
  energy_today: 2322.91
}
[2023-04-08T14:04:40.669] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 36
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 36
[2023-04-08T14:04:40.671] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 350.26,
  lifetime: 1860406192,
  energy_today: 2322.91
}
[2023-04-08T14:04:40.680] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 35
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.680] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1134.85,
  lifetime: 4855415088.9,
  energy_today: 7562.6612000000005
}
[2023-04-08T14:04:40.693] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 35
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 35
[2023-04-08T14:04:40.693] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1134.85,
  lifetime: 4855415088.9,
  energy_today: 7562.6612000000005
}
[2023-04-08T14:04:40.702] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:04:40.702] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 46.032,
  lifetime: 2241514356.2999997,
  energy_today: 4274.5445
}
[2023-04-08T14:04:40.715] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:04:40.716] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 46.032,
  lifetime: 2241514356.2999997,
  energy_today: 4274.5445
}
[2023-04-08T14:04:40.734] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:04:40.734] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'desc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:05:49.790] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:05:49.791] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:05:49.813] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:05:49.813] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:05:49.814] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:05:49.814] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:05:49.824] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:05:49.824] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:05:49.830] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:05:49.830] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:05:49.835] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:05:49.835] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:05:49.845] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:05:49.845] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:05:49.857] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:05:49.857] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:05:49.864] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:05:49.864] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:05:50.908] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:50.909] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 122.943,
  lifetime: 156436634.4,
  energy_today: 201.44819999999996
}
[2023-04-08T14:05:50.920] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:05:50.920] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 122.943,
  lifetime: 156436634.4,
  energy_today: 201.44819999999996
}
[2023-04-08T14:05:50.948] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:50.949] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.49,
  lifetime: 859111471.2,
  energy_today: 1263.2762
}
[2023-04-08T14:05:50.957] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:05:50.957] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.49,
  lifetime: 859111471.2,
  energy_today: 1263.2762
}
[2023-04-08T14:05:50.966] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:50.966] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.679,
  lifetime: 499010863.8,
  energy_today: 532.7646
}
[2023-04-08T14:05:50.986] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:05:50.987] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.679,
  lifetime: 499010863.8,
  energy_today: 532.7646
}
[2023-04-08T14:05:50.997] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:50.997] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 271.01,
  lifetime: 1767735414,
  energy_today: 1770.75
}
[2023-04-08T14:05:51.006] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:05:51.006] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 271.01,
  lifetime: 1767735414,
  energy_today: 1770.75
}
[2023-04-08T14:05:51.017] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.017] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 46.032,
  lifetime: 2241514356.2999997,
  energy_today: 4274.5445
}
[2023-04-08T14:05:51.037] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:05:51.038] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 46.032,
  lifetime: 2241514356.2999997,
  energy_today: 4274.5445
}
[2023-04-08T14:05:51.047] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.047] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 152.03,
  lifetime: 1297751911.8,
  energy_today: 2342.9818
}
[2023-04-08T14:05:51.057] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:05:51.057] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 152.03,
  lifetime: 1297751911.8,
  energy_today: 2342.9818
}
[2023-04-08T14:05:51.072] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.072] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 691.216,
  lifetime: 3854450773,
  energy_today: 4568.141
}
[2023-04-08T14:05:51.083] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:05:51.084] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 691.216,
  lifetime: 3854450773,
  energy_today: 4568.141
}
[2023-04-08T14:05:51.094] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.095] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1305.465,
  lifetime: 4150408404.6,
  energy_today: 5533.2352
}
[2023-04-08T14:05:51.102] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:05:51.102] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1305.465,
  lifetime: 4150408404.6,
  energy_today: 5533.2352
}
[2023-04-08T14:05:51.119] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.119] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 676.91,
  lifetime: 3524880111,
  energy_today: 3838.9667999999997
}
[2023-04-08T14:05:51.126] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:05:51.126] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 676.91,
  lifetime: 3524880111,
  energy_today: 3838.9667999999997
}
[2023-04-08T14:05:51.136] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.136] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 485.11,
  lifetime: 1843551753,
  energy_today: 2211.5251000000003
}
[2023-04-08T14:05:51.143] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:05:51.143] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 485.11,
  lifetime: 1843551753,
  energy_today: 2211.5251000000003
}
[2023-04-08T14:05:51.157] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.158] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 658.072,
  lifetime: 3057451261.9,
  energy_today: 3935.688
}
[2023-04-08T14:05:51.165] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:05:51.165] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 658.072,
  lifetime: 3057451261.9,
  energy_today: 3935.688
}
[2023-04-08T14:05:51.174] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.174] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.992,
  lifetime: 691319150.5,
  energy_today: 753.922
}
[2023-04-08T14:05:51.181] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:05:51.181] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.992,
  lifetime: 691319150.5,
  energy_today: 753.922
}
[2023-04-08T14:05:51.190] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.190] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 230.683,
  lifetime: 627342885,
  energy_today: 822.9466
}
[2023-04-08T14:05:51.200] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:05:51.200] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 230.683,
  lifetime: 627342885,
  energy_today: 822.9466
}
[2023-04-08T14:05:51.211] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.211] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 491.466,
  lifetime: 2710877529.4,
  energy_today: 3232.106
}
[2023-04-08T14:05:51.244] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:05:51.244] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 491.466,
  lifetime: 2710877529.4,
  energy_today: 3232.106
}
[2023-04-08T14:05:51.254] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.254] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 749.54,
  lifetime: 1380745035,
  energy_today: 1583.1480999999999
}
[2023-04-08T14:05:51.261] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:05:51.261] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 749.54,
  lifetime: 1380745035,
  energy_today: 1583.1480999999999
}
[2023-04-08T14:05:51.269] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:51.269] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 314.65,
  lifetime: 1419709642.2,
  energy_today: 1592.2836000000002
}
[2023-04-08T14:05:51.275] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:05:51.275] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 314.65,
  lifetime: 1419709642.2,
  energy_today: 1592.2836000000002
}
[2023-04-08T14:05:51.302] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:05:51.302] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:05:55.303] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  name asc
LIMIT
  0, 16
[2023-04-08T14:05:55.303] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'asc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:05:56.104] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.104] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 491.466,
  lifetime: 2710877529.4,
  energy_today: 3232.106
}
[2023-04-08T14:05:56.111] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:05:56.111] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 491.466,
  lifetime: 2710877529.4,
  energy_today: 3232.106
}
[2023-04-08T14:05:56.119] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.119] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 749.54,
  lifetime: 1380745035,
  energy_today: 1583.1480999999999
}
[2023-04-08T14:05:56.126] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:05:56.126] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 749.54,
  lifetime: 1380745035,
  energy_today: 1583.1480999999999
}
[2023-04-08T14:05:56.133] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.133] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 314.65,
  lifetime: 1419709642.2,
  energy_today: 1592.2836000000002
}
[2023-04-08T14:05:56.139] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:05:56.139] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 314.65,
  lifetime: 1419709642.2,
  energy_today: 1592.2836000000002
}
[2023-04-08T14:05:56.147] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.147] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 691.216,
  lifetime: 3854450773,
  energy_today: 4568.141
}
[2023-04-08T14:05:56.154] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:05:56.154] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 691.216,
  lifetime: 3854450773,
  energy_today: 4568.141
}
[2023-04-08T14:05:56.161] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.161] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 658.072,
  lifetime: 3057451261.9,
  energy_today: 3935.688
}
[2023-04-08T14:05:56.169] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:05:56.169] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 658.072,
  lifetime: 3057451261.9,
  energy_today: 3935.688
}
[2023-04-08T14:05:56.177] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.177] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 230.683,
  lifetime: 627342885,
  energy_today: 822.9466
}
[2023-04-08T14:05:56.183] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:05:56.183] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 230.683,
  lifetime: 627342885,
  energy_today: 822.9466
}
[2023-04-08T14:05:56.192] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.192] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.49,
  lifetime: 859111471.2,
  energy_today: 1263.2762
}
[2023-04-08T14:05:56.199] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:05:56.200] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.49,
  lifetime: 859111471.2,
  energy_today: 1263.2762
}
[2023-04-08T14:05:56.216] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 37
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.217] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.13,
  lifetime: 711115993,
  energy_today: 940.2363999999999
}
[2023-04-08T14:05:56.225] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 37
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 37
[2023-04-08T14:05:56.225] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.13,
  lifetime: 711115993,
  energy_today: 940.2363999999999
}
[2023-04-08T14:05:56.234] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.234] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1305.465,
  lifetime: 4150408404.6,
  energy_today: 5533.2352
}
[2023-04-08T14:05:56.242] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:05:56.242] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1305.465,
  lifetime: 4150408404.6,
  energy_today: 5533.2352
}
[2023-04-08T14:05:56.249] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 38
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.249] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 287.139,
  lifetime: 1689442689.8,
  energy_today: 1994.8868
}
[2023-04-08T14:05:56.265] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 38
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 38
[2023-04-08T14:05:56.266] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 287.139,
  lifetime: 1689442689.8,
  energy_today: 1994.8868
}
[2023-04-08T14:05:56.279] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 39
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.279] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 15.0287,
  lifetime: 418165044.8,
  energy_today: 466.085
}
[2023-04-08T14:05:56.285] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 39
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 39
[2023-04-08T14:05:56.285] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 15.0287,
  lifetime: 418165044.8,
  energy_today: 466.085
}
[2023-04-08T14:05:56.293] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 40
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.293] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 545.42,
  lifetime: 1731631591.4,
  energy_today: 2710.2188
}
[2023-04-08T14:05:56.299] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 40
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 40
[2023-04-08T14:05:56.299] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 545.42,
  lifetime: 1731631591.4,
  energy_today: 2710.2188
}
[2023-04-08T14:05:56.309] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.309] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 676.91,
  lifetime: 3524880111,
  energy_today: 3838.9667999999997
}
[2023-04-08T14:05:56.314] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:05:56.314] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 676.91,
  lifetime: 3524880111,
  energy_today: 3838.9667999999997
}
[2023-04-08T14:05:56.320] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.320] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 485.11,
  lifetime: 1843551753,
  energy_today: 2211.5251000000003
}
[2023-04-08T14:05:56.325] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:05:56.325] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 485.11,
  lifetime: 1843551753,
  energy_today: 2211.5251000000003
}
[2023-04-08T14:05:56.331] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 34
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.331] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 785.55,
  lifetime: 2438588265.4,
  energy_today: 2779.8292
}
[2023-04-08T14:05:56.337] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 34
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 34
[2023-04-08T14:05:56.337] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 785.55,
  lifetime: 2438588265.4,
  energy_today: 2779.8292
}
[2023-04-08T14:05:56.344] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:56.344] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 271.01,
  lifetime: 1767735414,
  energy_today: 1770.75
}
[2023-04-08T14:05:56.350] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:05:56.350] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 271.01,
  lifetime: 1767735414,
  energy_today: 1770.75
}
[2023-04-08T14:05:56.377] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:05:56.378] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'asc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:05:58.503] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  name desc
LIMIT
  0, 16
[2023-04-08T14:05:58.504] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'desc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:05:59.215] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.215] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.992,
  lifetime: 691319150.5,
  energy_today: 753.922
}
[2023-04-08T14:05:59.229] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:05:59.229] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.992,
  lifetime: 691319150.5,
  energy_today: 753.922
}
[2023-04-08T14:05:59.238] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 46
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.239] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 307.66,
  lifetime: 1543240040,
  energy_today: 1639
}
[2023-04-08T14:05:59.246] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 46
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 46
[2023-04-08T14:05:59.246] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 307.66,
  lifetime: 1543240040,
  energy_today: 1639
}
[2023-04-08T14:05:59.253] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 50
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.253] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 50,
  hash_id: '638236fa92da7b7ec900b1e9b982cca1',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '493 kWp',
  installed_power_client: '493 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Tuệ Cang - PK07000175587',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 70345.97,
  power_now: 284.33,
  lifetime: 1289861060,
  energy_today: 1679.03
}
[2023-04-08T14:05:59.262] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 50
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 50
[2023-04-08T14:05:59.262] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 50,
  hash_id: '638236fa92da7b7ec900b1e9b982cca1',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '493 kWp',
  installed_power_client: '493 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Tuệ Cang - PK07000175587',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 70345.97,
  power_now: 284.33,
  lifetime: 1289861060,
  energy_today: 1679.03
}
[2023-04-08T14:05:59.275] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 44
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.276] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 101.43,
  lifetime: 563839980,
  energy_today: 624.96
}
[2023-04-08T14:05:59.285] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 44
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 44
[2023-04-08T14:05:59.286] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 101.43,
  lifetime: 563839980,
  energy_today: 624.96
}
[2023-04-08T14:05:59.295] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 48
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.295] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 462.39,
  lifetime: 2399867100,
  energy_today: 2604.06
}
[2023-04-08T14:05:59.305] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 48
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 48
[2023-04-08T14:05:59.305] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 462.39,
  lifetime: 2399867100,
  energy_today: 2604.06
}
[2023-04-08T14:05:59.316] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 49
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.317] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 232.07,
  lifetime: 1227265000,
  energy_today: 1309.94
}
[2023-04-08T14:05:59.327] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 49
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 49
[2023-04-08T14:05:59.327] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 232.07,
  lifetime: 1227265000,
  energy_today: 1309.94
}
[2023-04-08T14:05:59.338] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.338] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.679,
  lifetime: 499010863.8,
  energy_today: 532.7646
}
[2023-04-08T14:05:59.347] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:05:59.347] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.679,
  lifetime: 499010863.8,
  energy_today: 532.7646
}
[2023-04-08T14:05:59.358] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 42
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.358] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 249.79,
  lifetime: 1806925140,
  energy_today: 1955.228
}
[2023-04-08T14:05:59.368] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 42
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 42
[2023-04-08T14:05:59.368] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 249.79,
  lifetime: 1806925140,
  energy_today: 1955.228
}
[2023-04-08T14:05:59.379] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.379] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:03',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 250.39,
  lifetime: 1238729313,
  energy_today: 1572.7
}
[2023-04-08T14:05:59.386] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 41
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 41
[2023-04-08T14:05:59.386] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:03',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 250.39,
  lifetime: 1238729313,
  energy_today: 1572.7
}
[2023-04-08T14:05:59.397] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.397] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 122.943,
  lifetime: 156436634.4,
  energy_today: 201.44819999999996
}
[2023-04-08T14:05:59.404] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:05:59.404] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:00',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 122.943,
  lifetime: 156436634.4,
  energy_today: 201.44819999999996
}
[2023-04-08T14:05:59.419] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 43
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.419] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 304.08418,
  lifetime: 2590365266.62,
  energy_today: 2881.53512
}
[2023-04-08T14:05:59.431] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 43
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 43
[2023-04-08T14:05:59.432] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 304.08418,
  lifetime: 2590365266.62,
  energy_today: 2881.53512
}
[2023-04-08T14:05:59.444] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 45
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.444] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 180.42,
  lifetime: 1108192020,
  energy_today: 1407.04
}
[2023-04-08T14:05:59.453] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 45
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 45
[2023-04-08T14:05:59.453] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 180.42,
  lifetime: 1108192020,
  energy_today: 1407.04
}
[2023-04-08T14:05:59.466] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 47
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.466] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 441.6,
  lifetime: 2277332060,
  energy_today: 2493.04
}
[2023-04-08T14:05:59.476] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 47
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 47
[2023-04-08T14:05:59.476] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 441.6,
  lifetime: 2277332060,
  energy_today: 2493.04
}
[2023-04-08T14:05:59.484] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 36
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.485] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 350.26,
  lifetime: 1860406192,
  energy_today: 2322.91
}
[2023-04-08T14:05:59.495] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 36
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 36
[2023-04-08T14:05:59.495] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:05',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 350.26,
  lifetime: 1860406192,
  energy_today: 2322.91
}
[2023-04-08T14:05:59.504] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 35
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.505] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1134.85,
  lifetime: 4855415088.9,
  energy_today: 7562.6612000000005
}
[2023-04-08T14:05:59.513] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 35
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 35
[2023-04-08T14:05:59.513] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:00',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1134.85,
  lifetime: 4855415088.9,
  energy_today: 7562.6612000000005
}
[2023-04-08T14:05:59.524] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:05:59.525] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 46.032,
  lifetime: 2241514356.2999997,
  energy_today: 4274.5445
}
[2023-04-08T14:05:59.534] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:05:59.534] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 46.032,
  lifetime: 2241514356.2999997,
  energy_today: 4274.5445
}
[2023-04-08T14:05:59.552] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:05:59.554] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: 'desc',
  sort_column: 'name',
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:13.904] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:12:13.905] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:14.020] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:12:14.020] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:12:14.022] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:12:14.022] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:12:14.123] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:12:14.124] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:12:14.132] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:12:14.133] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:12:14.144] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:12:14.144] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:12:14.176] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:12:14.176] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:12:14.200] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:12:14.201] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:12:14.213] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:12:14.213] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:12:15.363] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.363] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:10',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 93.083,
  lifetime: 156439745.2,
  energy_today: 204.559
}
[2023-04-08T14:12:15.373] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:12:15.373] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:10',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 93.083,
  lifetime: 156439745.2,
  energy_today: 204.559
}
[2023-04-08T14:12:15.391] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.391] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.03,
  lifetime: 859131509.8,
  energy_today: 1283.3147999999999
}
[2023-04-08T14:12:15.405] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:12:15.405] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 355.03,
  lifetime: 859131509.8,
  energy_today: 1283.3147999999999
}
[2023-04-08T14:12:15.420] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.420] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.841,
  lifetime: 499018860.20000005,
  energy_today: 540.761
}
[2023-04-08T14:12:15.436] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:12:15.436] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 129.841,
  lifetime: 499018860.20000005,
  energy_today: 540.761
}
[2023-04-08T14:12:15.454] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.454] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 266.95,
  lifetime: 1767760127,
  energy_today: 1795.463
}
[2023-04-08T14:12:15.463] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:12:15.463] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 266.95,
  lifetime: 1767760127,
  energy_today: 1795.463
}
[2023-04-08T14:12:15.689] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.691] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 36.39,
  lifetime: 2241514360.4,
  energy_today: 4274.548600000001
}
[2023-04-08T14:12:15.702] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:12:15.702] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 36.39,
  lifetime: 2241514360.4,
  energy_today: 4274.548600000001
}
[2023-04-08T14:12:15.717] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.717] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.06,
  lifetime: 1297753920.2,
  energy_today: 2344.9902
}
[2023-04-08T14:12:15.755] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:12:15.755] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.06,
  lifetime: 1297753920.2,
  energy_today: 2344.9902
}
[2023-04-08T14:12:15.766] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.767] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 681.596,
  lifetime: 3854517222,
  energy_today: 4634.59
}
[2023-04-08T14:12:15.783] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:12:15.783] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 681.596,
  lifetime: 3854517222,
  energy_today: 4634.59
}
[2023-04-08T14:12:15.794] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.794] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1228.801,
  lifetime: 4150489807.4,
  energy_today: 5614.638
}
[2023-04-08T14:12:15.803] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:12:15.803] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1228.801,
  lifetime: 4150489807.4,
  energy_today: 5614.638
}
[2023-04-08T14:12:15.815] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.815] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 664.75,
  lifetime: 3524940545.8,
  energy_today: 3899.4016000000006
}
[2023-04-08T14:12:15.822] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:12:15.822] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 664.75,
  lifetime: 3524940545.8,
  energy_today: 3899.4016000000006
}
[2023-04-08T14:12:15.832] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.832] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 451.63,
  lifetime: 1843587644,
  energy_today: 2247.4161
}
[2023-04-08T14:12:15.839] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:12:15.839] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 451.63,
  lifetime: 1843587644,
  energy_today: 2247.4161
}
[2023-04-08T14:12:15.853] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.853] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 651.27,
  lifetime: 3057525501,
  energy_today: 4009.9271
}
[2023-04-08T14:12:15.860] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:12:15.860] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 651.27,
  lifetime: 3057525501,
  energy_today: 4009.9271
}
[2023-04-08T14:12:15.869] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.869] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.256,
  lifetime: 691325649,
  energy_today: 760.4205
}
[2023-04-08T14:12:15.906] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:12:15.906] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 122.256,
  lifetime: 691325649,
  energy_today: 760.4205
}
[2023-04-08T14:12:15.926] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.926] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 196.196,
  lifetime: 627353794.6,
  energy_today: 833.8562
}
[2023-04-08T14:12:15.939] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:12:15.939] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 196.196,
  lifetime: 627353794.6,
  energy_today: 833.8562
}
[2023-04-08T14:12:15.956] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:15.957] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 486.301,
  lifetime: 2710918095.8,
  energy_today: 3272.6724000000004
}
[2023-04-08T14:12:15.969] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:12:15.969] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 486.301,
  lifetime: 2710918095.8,
  energy_today: 3272.6724000000004
}
[2023-04-08T14:12:16.092] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:16.093] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 745.91,
  lifetime: 1380759411.9,
  energy_today: 1597.525
}
[2023-04-08T14:12:16.108] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:12:16.109] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 745.91,
  lifetime: 1380759411.9,
  energy_today: 1597.525
}
[2023-04-08T14:12:16.209] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:16.209] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.07,
  lifetime: 1419732419.8,
  energy_today: 1615.0611999999999
}
[2023-04-08T14:12:16.215] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:12:16.215] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.07,
  lifetime: 1419732419.8,
  energy_today: 1615.0611999999999
}
[2023-04-08T14:12:16.227] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:12:16.227] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:12:26.828] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  16, 16
[2023-04-08T14:12:26.829] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 16,
  index: 2,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:28.017] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 34
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.018] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 780.71,
  lifetime: 2438625009.6,
  energy_today: 2816.5733999999998
}
[2023-04-08T14:12:28.028] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 34
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 34
[2023-04-08T14:12:28.028] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 780.71,
  lifetime: 2438625009.6,
  energy_today: 2816.5733999999998
}
[2023-04-08T14:12:28.043] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 35
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.043] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1173.16,
  lifetime: 4855511085.9,
  energy_today: 7658.6582
}
[2023-04-08T14:12:28.054] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 35
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 35
[2023-04-08T14:12:28.054] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1173.16,
  lifetime: 4855511085.9,
  energy_today: 7658.6582
}
[2023-04-08T14:12:28.092] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 36
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.093] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 347.77,
  lifetime: 1860442978,
  energy_today: 2359.696
}
[2023-04-08T14:12:28.101] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 36
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 36
[2023-04-08T14:12:28.101] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 347.77,
  lifetime: 1860442978,
  energy_today: 2359.696
}
[2023-04-08T14:12:28.446] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 37
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.447] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.69,
  lifetime: 711134842.8000001,
  energy_today: 959.0862
}
[2023-04-08T14:12:28.480] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 37
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 37
[2023-04-08T14:12:28.480] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.69,
  lifetime: 711134842.8000001,
  energy_today: 959.0862
}
[2023-04-08T14:12:28.491] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 38
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.491] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 282.629,
  lifetime: 1689476451.4,
  energy_today: 2028.6483999999998
}
[2023-04-08T14:12:28.498] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 38
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 38
[2023-04-08T14:12:28.498] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 282.629,
  lifetime: 1689476451.4,
  energy_today: 2028.6483999999998
}
[2023-04-08T14:12:28.508] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 39
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.508] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 41.140800000000006,
  lifetime: 418167514.8,
  energy_today: 468.555
}
[2023-04-08T14:12:28.515] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 39
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 39
[2023-04-08T14:12:28.515] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 41.140800000000006,
  lifetime: 418167514.8,
  energy_today: 468.555
}
[2023-04-08T14:12:28.525] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 40
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.525] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 847.85,
  lifetime: 1731664086.4,
  energy_today: 2742.7138000000004
}
[2023-04-08T14:12:28.533] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 40
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 40
[2023-04-08T14:12:28.533] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 847.85,
  lifetime: 1731664086.4,
  energy_today: 2742.7138000000004
}
[2023-04-08T14:12:28.541] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.541] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:08',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 388.22,
  lifetime: 1238739327,
  energy_today: 1582.714
}
[2023-04-08T14:12:28.549] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 41
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 41
[2023-04-08T14:12:28.549] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:08',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 388.22,
  lifetime: 1238739327,
  energy_today: 1582.714
}
[2023-04-08T14:12:28.558] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 42
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.558] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 355.65,
  lifetime: 1806937062,
  energy_today: 1967.15
}
[2023-04-08T14:12:28.667] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 42
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 42
[2023-04-08T14:12:28.667] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 355.65,
  lifetime: 1806937062,
  energy_today: 1967.15
}
[2023-04-08T14:12:28.833] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 43
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.834] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 233.15711,
  lifetime: 2590394864.8,
  energy_today: 2911.1333
}
[2023-04-08T14:12:28.853] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 43
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 43
[2023-04-08T14:12:28.853] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 233.15711,
  lifetime: 2590394864.8,
  energy_today: 2911.1333
}
[2023-04-08T14:12:28.875] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 44
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.875] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 97.89,
  lifetime: 563850020,
  energy_today: 635
}
[2023-04-08T14:12:28.883] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 44
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 44
[2023-04-08T14:12:28.883] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 97.89,
  lifetime: 563850020,
  energy_today: 635
}
[2023-04-08T14:12:28.891] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 45
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.892] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 231.88,
  lifetime: 1108227050,
  energy_today: 1442.07
}
[2023-04-08T14:12:28.900] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 45
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 45
[2023-04-08T14:12:28.900] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 231.88,
  lifetime: 1108227050,
  energy_today: 1442.07
}
[2023-04-08T14:12:28.912] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 46
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.912] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 288.23,
  lifetime: 1543291080,
  energy_today: 1690.04
}
[2023-04-08T14:12:28.920] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 46
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 46
[2023-04-08T14:12:28.920] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 288.23,
  lifetime: 1543291080,
  energy_today: 1690.04
}
[2023-04-08T14:12:28.928] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 47
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.929] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 425.89,
  lifetime: 2277386960,
  energy_today: 2547.94
}
[2023-04-08T14:12:28.937] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 47
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 47
[2023-04-08T14:12:28.937] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 425.89,
  lifetime: 2277386960,
  energy_today: 2547.94
}
[2023-04-08T14:12:28.946] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 48
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.946] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 454.47,
  lifetime: 2399911080,
  energy_today: 2648.04
}
[2023-04-08T14:12:28.956] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 48
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 48
[2023-04-08T14:12:28.956] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 454.47,
  lifetime: 2399911080,
  energy_today: 2648.04
}
[2023-04-08T14:12:28.968] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 49
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:28.968] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 226.87,
  lifetime: 1227289020,
  energy_today: 1333.96
}
[2023-04-08T14:12:28.979] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 49
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 49
[2023-04-08T14:12:28.980] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 226.87,
  lifetime: 1227289020,
  energy_today: 1333.96
}
[2023-04-08T14:12:29.021] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:12:29.021] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 16,
  index: 2,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:33.013] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  32, 16
[2023-04-08T14:12:33.014] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 32,
  index: 3,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:34.623] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 50
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:34.624] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 50,
  hash_id: '638236fa92da7b7ec900b1e9b982cca1',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '493 kWp',
  installed_power_client: '493 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Tuệ Cang - PK07000175587',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 70345.97,
  power_now: 275.39,
  lifetime: 1289884000,
  energy_today: 1701.97
}
[2023-04-08T14:12:34.636] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 50
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 50
[2023-04-08T14:12:34.636] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 50,
  hash_id: '638236fa92da7b7ec900b1e9b982cca1',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '493 kWp',
  installed_power_client: '493 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Tuệ Cang - PK07000175587',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 70345.97,
  power_now: 275.39,
  lifetime: 1289884000,
  energy_today: 1701.97
}
[2023-04-08T14:12:34.655] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 51
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:34.656] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 51,
  hash_id: '928d0a3a3babded35ff8f3b32eddd41a',
  thumbnail: null,
  address: 'TP.Thu Duc, TP. HCM',
  lat: '10.7835151',
  lng: '106.7188267',
  installed_power: '789 kWp',
  installed_power_client: '123 kWp',
  commisioning_date: '26/10/2021',
  last_updated: null,
  installed_date: '26/10/2021',
  name: 'E6-PE12000177174',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 112288.862,
  power_now: 449.38,
  lifetime: 2055918307,
  energy_today: 2920.577
}
[2023-04-08T14:12:34.665] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 51
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 51
[2023-04-08T14:12:34.665] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 51,
  hash_id: '928d0a3a3babded35ff8f3b32eddd41a',
  thumbnail: null,
  address: 'TP.Thu Duc, TP. HCM',
  lat: '10.7835151',
  lng: '106.7188267',
  installed_power: '789 kWp',
  installed_power_client: '123 kWp',
  commisioning_date: '26/10/2021',
  last_updated: null,
  installed_date: '26/10/2021',
  name: 'E6-PE12000177174',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 112288.862,
  power_now: 449.38,
  lifetime: 2055918307,
  energy_today: 2920.577
}
[2023-04-08T14:12:34.681] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:12:34.681] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 32,
  index: 3,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:38.267] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  16, 16
[2023-04-08T14:12:38.268] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 16,
  index: 2,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:12:39.287] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 34
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.288] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 780.71,
  lifetime: 2438625009.6,
  energy_today: 2816.5733999999998
}
[2023-04-08T14:12:39.303] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 34
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 34
[2023-04-08T14:12:39.303] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 34,
  hash_id: '31243e214e553585f59851bcf9337854',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '707.2 kWp',
  installed_power_client: '700 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E5-PE12000087926',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 108337.51759999999,
  power_now: 780.71,
  lifetime: 2438625009.6,
  energy_today: 2816.5733999999998
}
[2023-04-08T14:12:39.315] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 35
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.316] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1173.16,
  lifetime: 4855511085.9,
  energy_today: 7658.6582
}
[2023-04-08T14:12:39.324] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 35
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 35
[2023-04-08T14:12:39.325] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 35,
  hash_id: '2992bd2dd21e5f3dcaeed5a45c0301fa',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '1861.5 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E7-8-PE12000107340',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 273695.3934,
  power_now: 1173.16,
  lifetime: 4855511085.9,
  energy_today: 7658.6582
}
[2023-04-08T14:12:39.333] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 36
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.334] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 347.77,
  lifetime: 1860442978,
  energy_today: 2359.696
}
[2023-04-08T14:12:39.341] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 36
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 36
[2023-04-08T14:12:39.342] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 36,
  hash_id: 'ef070e74f8994c2b94f9a11600b395d3',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '807.4 kWp',
  installed_power_client: '670 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E9-PE12000104254',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 105630.304,
  power_now: 347.77,
  lifetime: 1860442978,
  energy_today: 2359.696
}
[2023-04-08T14:12:39.356] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 37
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.356] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.69,
  lifetime: 711134842.8000001,
  energy_today: 959.0862
}
[2023-04-08T14:12:39.365] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 37
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 37
[2023-04-08T14:12:39.366] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 37,
  hash_id: 'd2363e037821a62a8219ad43dd38817b',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '280.8 kWp',
  installed_power_client: '410 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E12-PE12000120140',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 37912.533,
  power_now: 215.69,
  lifetime: 711134842.8000001,
  energy_today: 959.0862
}
[2023-04-08T14:12:39.374] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 38
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.374] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 282.629,
  lifetime: 1689476451.4,
  energy_today: 2028.6483999999998
}
[2023-04-08T14:12:39.385] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 38
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 38
[2023-04-08T14:12:39.385] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 38,
  hash_id: 'd5a322fa87527e1edf44c2c8687a342e',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '546 kWp',
  installed_power_client: '560 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E13-PE12000215606',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 87474.97,
  power_now: 282.629,
  lifetime: 1689476451.4,
  energy_today: 2028.6483999999998
}
[2023-04-08T14:12:39.392] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 39
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.392] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 41.140800000000006,
  lifetime: 418167514.8,
  energy_today: 468.555
}
[2023-04-08T14:12:39.406] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 39
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 39
[2023-04-08T14:12:39.406] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 39,
  hash_id: 'd4cfd0dd677c5fbb20a7ba33efa07b72',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '149.6 kWp',
  installed_power_client: '150 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E14-PE12000304896',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 1}]',
  last_month: 19718.056,
  power_now: 41.140800000000006,
  lifetime: 418167514.8,
  energy_today: 468.555
}
[2023-04-08T14:12:39.416] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 40
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.416] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 847.85,
  lifetime: 1731664086.4,
  energy_today: 2742.7138000000004
}
[2023-04-08T14:12:39.423] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 40
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 40
[2023-04-08T14:12:39.423] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 40,
  hash_id: '615a2d053d9636ca8cec57251df40d89',
  thumbnail: null,
  address: '55 Ích Thạnh, Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '592.2 kWp',
  installed_power_client: '587 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E17-PE12000120142',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 104867.1614,
  power_now: 847.85,
  lifetime: 1731664086.4,
  energy_today: 2742.7138000000004
}
[2023-04-08T14:12:39.457] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.457] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:08',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 388.22,
  lifetime: 1238739327,
  energy_today: 1582.714
}
[2023-04-08T14:12:39.463] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 41
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 41
[2023-04-08T14:12:39.464] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 41,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '365.5 kWp',
  installed_power_client: '357 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:08',
  installed_date: '02/10/2021',
  name: 'LT8-PE10000123619',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 67039.543,
  power_now: 388.22,
  lifetime: 1238739327,
  energy_today: 1582.714
}
[2023-04-08T14:12:39.471] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 42
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.471] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 355.65,
  lifetime: 1806937062,
  energy_today: 1967.15
}
[2023-04-08T14:12:39.478] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 42
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 42
[2023-04-08T14:12:39.478] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 42,
  hash_id: '52ff8fe6638a954d06f26f9b18b1d23a',
  thumbnail: null,
  address: '8, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.8671694',
  lng: '106.775047',
  installed_power: '629 kWp',
  installed_power_client: '629 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '02/10/2021',
  name: 'LT8-PE10001215075',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 79725.03,
  power_now: 355.65,
  lifetime: 1806937062,
  energy_today: 1967.15
}
[2023-04-08T14:12:39.486] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 43
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.486] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 233.15711,
  lifetime: 2590394864.8,
  energy_today: 2911.1333
}
[2023-04-08T14:12:39.495] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 43
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 43
[2023-04-08T14:12:39.495] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 43,
  hash_id: 'bfa25d25f8f26346ac4a5be17ef26b60',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '930.75 kWp',
  installed_power_client: '867 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '05/10/2021',
  name: 'LT16-PE10000109442',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 110633.0539,
  power_now: 233.15711,
  lifetime: 2590394864.8,
  energy_today: 2911.1333
}
[2023-04-08T14:12:39.506] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 44
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.507] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 97.89,
  lifetime: 563850020,
  energy_today: 635
}
[2023-04-08T14:12:39.515] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 44
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 44
[2023-04-08T14:12:39.515] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 44,
  hash_id: '5b413be64ba8a8ddc565d74b7503efb8',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '198.9 kWp',
  installed_power_client: '198.8 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Tuệ Cang - PK07000082725',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 25442,
  power_now: 97.89,
  lifetime: 563850020,
  energy_today: 635
}
[2023-04-08T14:12:39.524] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 45
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.524] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 231.88,
  lifetime: 1108227050,
  energy_today: 1442.07
}
[2023-04-08T14:12:39.559] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 45
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 45
[2023-04-08T14:12:39.559] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 45,
  hash_id: '57f5cb93b23639b6c37148170bd3d546',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Khải Tường - PK07000175596',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 59459.02,
  power_now: 231.88,
  lifetime: 1108227050,
  energy_today: 1442.07
}
[2023-04-08T14:12:39.573] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 46
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.573] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 288.23,
  lifetime: 1543291080,
  energy_today: 1690.04
}
[2023-04-08T14:12:39.581] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 46
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 46
[2023-04-08T14:12:39.581] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 46,
  hash_id: 'cb2c63306821d912402f87a8372e0bfa',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '561 kWp',
  installed_power_client: '561 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '11/10/2021',
  name: 'Túy Hoa - PK07000175597',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 69660.02,
  power_now: 288.23,
  lifetime: 1543291080,
  energy_today: 1690.04
}
[2023-04-08T14:12:39.596] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 47
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.597] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 425.89,
  lifetime: 2277386960,
  energy_today: 2547.94
}
[2023-04-08T14:12:39.614] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 47
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 47
[2023-04-08T14:12:39.614] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 47,
  hash_id: '39ea129204d5bf2c54ad936802cd5f2d',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '748 kWp',
  installed_power_client: '748 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '12/10/2021',
  name: 'Giác Hoa - PK07000175595',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 105813.98,
  power_now: 425.89,
  lifetime: 2277386960,
  energy_today: 2547.94
}
[2023-04-08T14:12:39.629] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 48
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.629] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 454.47,
  lifetime: 2399911080,
  energy_today: 2648.04
}
[2023-04-08T14:12:39.813] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 48
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 48
[2023-04-08T14:12:39.814] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 48,
  hash_id: 'de82fb3dea91c8ec430a1e39dadc0292',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '796 kWp',
  installed_power_client: '796 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Tâm Minh  -PK07000175599',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 123465.94,
  power_now: 454.47,
  lifetime: 2399911080,
  energy_today: 2648.04
}
[2023-04-08T14:12:39.826] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 49
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:12:39.826] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 226.87,
  lifetime: 1227289020,
  energy_today: 1333.96
}
[2023-04-08T14:12:39.866] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 49
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 49
[2023-04-08T14:12:39.866] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 49,
  hash_id: 'b264b73da9f0f959ba8db52d4e42992c',
  thumbnail: null,
  address: '18 QL51, Long Phước, Long Thành, Đồng Nai',
  lat: '10.7341289',
  lng: '106.9872097',
  installed_power: '408 kWp',
  installed_power_client: '408 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '12/10/2021',
  name: 'Quốc Ân - PK07000175598',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI CHÙA QUỐC ÂN KHẢI TƯỜNG',
  project_group_name: 'Chùa QAKT',
  config_revenue: 1934,
  alarms: null,
  last_month: 55624,
  power_now: 226.87,
  lifetime: 1227289020,
  energy_today: 1333.96
}
[2023-04-08T14:12:39.891] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:12:39.891] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 16,
  index: 2,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:03.875] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:14:03.875] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:05.135] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.135] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:10',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 93.083,
  lifetime: 156439745.2,
  energy_today: 204.559
}
[2023-04-08T14:14:05.283] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:14:05.283] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:10',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 93.083,
  lifetime: 156439745.2,
  energy_today: 204.559
}
[2023-04-08T14:14:05.299] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.300] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 365.27,
  lifetime: 859137501.4,
  energy_today: 1289.3063999999997
}
[2023-04-08T14:14:05.339] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:14:05.339] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 365.27,
  lifetime: 859137501.4,
  energy_today: 1289.3063999999997
}
[2023-04-08T14:14:05.352] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.353] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 188.641,
  lifetime: 499022909.8,
  energy_today: 544.8106
}
[2023-04-08T14:14:05.366] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:14:05.366] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 188.641,
  lifetime: 499022909.8,
  energy_today: 544.8106
}
[2023-04-08T14:14:05.382] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.382] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 266.75,
  lifetime: 1767774588,
  energy_today: 1809.924
}
[2023-04-08T14:14:05.396] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:14:05.396] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 266.75,
  lifetime: 1767774588,
  energy_today: 1809.924
}
[2023-04-08T14:14:05.413] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.414] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 27.481,
  lifetime: 2241514364.1,
  energy_today: 4274.552299999999
}
[2023-04-08T14:14:05.429] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:14:05.429] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 27.481,
  lifetime: 2241514364.1,
  energy_today: 4274.552299999999
}
[2023-04-08T14:14:05.471] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.471] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.78,
  lifetime: 1297757925,
  energy_today: 2348.995
}
[2023-04-08T14:14:05.485] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:14:05.485] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.78,
  lifetime: 1297757925,
  energy_today: 2348.995
}
[2023-04-08T14:14:05.496] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.496] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 680.721,
  lifetime: 3854550116,
  energy_today: 4667.484
}
[2023-04-08T14:14:05.510] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:14:05.510] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 680.721,
  lifetime: 3854550116,
  energy_today: 4667.484
}
[2023-04-08T14:14:05.524] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.525] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1260.094,
  lifetime: 4150529163.8,
  energy_today: 5653.9944000000005
}
[2023-04-08T14:14:05.535] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:14:05.535] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1260.094,
  lifetime: 4150529163.8,
  energy_today: 5653.9944000000005
}
[2023-04-08T14:14:05.572] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.572] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 664.95,
  lifetime: 3524962775.0000005,
  energy_today: 3921.6308
}
[2023-04-08T14:14:05.582] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:14:05.584] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 664.95,
  lifetime: 3524962775.0000005,
  energy_today: 3921.6308
}
[2023-04-08T14:14:05.595] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.595] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 439.75,
  lifetime: 1843599183,
  energy_today: 2258.9551
}
[2023-04-08T14:14:05.607] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:14:05.608] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 439.75,
  lifetime: 1843599183,
  energy_today: 2258.9551
}
[2023-04-08T14:14:05.621] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:05.621] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 649.77,
  lifetime: 3057538270.9,
  energy_today: 4022.697
}
[2023-04-08T14:14:05.628] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:14:05.629] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 649.77,
  lifetime: 3057538270.9,
  energy_today: 4022.697
}
[2023-04-08T14:14:06.017] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:06.017] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 120.533,
  lifetime: 691335039,
  energy_today: 769.8105
}
[2023-04-08T14:14:06.033] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:14:06.034] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 120.533,
  lifetime: 691335039,
  energy_today: 769.8105
}
[2023-04-08T14:14:06.045] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:06.045] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 189.524,
  lifetime: 627360188.8,
  energy_today: 840.2504
}
[2023-04-08T14:14:06.052] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:14:06.052] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 189.524,
  lifetime: 627360188.8,
  energy_today: 840.2504
}
[2023-04-08T14:14:06.060] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:06.060] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 482.573,
  lifetime: 2710945178.8,
  energy_today: 3299.7554000000005
}
[2023-04-08T14:14:06.071] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:14:06.071] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 482.573,
  lifetime: 2710945178.8,
  energy_today: 3299.7554000000005
}
[2023-04-08T14:14:06.081] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:06.081] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 745.38,
  lifetime: 1380778845,
  energy_today: 1616.9581000000003
}
[2023-04-08T14:14:06.087] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:14:06.088] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 745.38,
  lifetime: 1380778845,
  energy_today: 1616.9581000000003
}
[2023-04-08T14:14:06.515] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:06.515] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.45,
  lifetime: 1419744403,
  energy_today: 1627.0444
}
[2023-04-08T14:14:06.523] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:14:06.523] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.45,
  lifetime: 1419744403,
  energy_today: 1627.0444
}
[2023-04-08T14:14:06.541] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:14:06.542] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:12.501] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:14:12.501] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:12.616] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:14:12.618] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:12.628] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:12.628] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:12.647] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:12.648] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:12.659] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:12.659] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:12.667] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:12.667] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:12.676] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:12.676] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:12.684] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:12.685] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:15.828] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
LIMIT
  1;
[2023-04-08T14:14:15.829] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:15.830] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:14:15.830] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:15.839] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:14:15.839] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:15.849] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:14:15.850] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:15.853] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:14:15.853] [INFO] SQLMapperLog - param: { id_project: 41 }
[2023-04-08T14:14:15.870] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 190
GROUP BY
  time_format
[2023-04-08T14:14:15.871] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 190,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:14:15.877] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_ABB_PVS100 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 41
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_ABB_PVS100 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_ABB_PVS100 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 41
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 18
LIMIT
  1;
[2023-04-08T14:14:15.878] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100'
}
[2023-04-08T14:14:15.953] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 191
GROUP BY
  time_format
[2023-04-08T14:14:15.954] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 191,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:14:16.036] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 192
GROUP BY
  time_format
[2023-04-08T14:14:16.037] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 192,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:14:16.081] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 388
GROUP BY
  time_format
[2023-04-08T14:14:16.081] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 388,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:14:16.281] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 41
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:14:16.281] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:14:20.159] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:14:20.162] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:14:21.018] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 41
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 41
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:14:21.019] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:14:22.393] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:14:22.393] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:22.394] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:14:22.394] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:22.401] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:14:22.402] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:22.408] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:14:22.408] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:22.583] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:14:22.584] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:14:22.587] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:14:22.588] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:14:22.604] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:14:22.604] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:14:22.688] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:14:22.688] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:14:30.430] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:14:30.430] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:14:30.478] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:14:30.479] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:14:34.761] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:14:34.761] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:14:34.774] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:14:34.775] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:14:35.484] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:14:35.484] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:14:35.548] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:14:35.549] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:35.572] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:14:35.572] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:14:35.572] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:35.573] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:35.673] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:35.673] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:35.683] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:35.683] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:35.694] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:35.694] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:35.701] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:35.701] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:35.711] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:14:35.711] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:14:36.758] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.758] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:10',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 93.083,
  lifetime: 156439745.2,
  energy_today: 204.559
}
[2023-04-08T14:14:36.781] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:14:36.782] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:10',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 93.083,
  lifetime: 156439745.2,
  energy_today: 204.559
}
[2023-04-08T14:14:36.795] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.795] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 365.27,
  lifetime: 859137501.4,
  energy_today: 1289.3063999999997
}
[2023-04-08T14:14:36.804] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:14:36.804] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 365.27,
  lifetime: 859137501.4,
  energy_today: 1289.3063999999997
}
[2023-04-08T14:14:36.813] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.813] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 188.641,
  lifetime: 499022909.8,
  energy_today: 544.8106
}
[2023-04-08T14:14:36.825] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:14:36.826] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 188.641,
  lifetime: 499022909.8,
  energy_today: 544.8106
}
[2023-04-08T14:14:36.837] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.837] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 266.75,
  lifetime: 1767774588,
  energy_today: 1809.924
}
[2023-04-08T14:14:36.869] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:14:36.870] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 266.75,
  lifetime: 1767774588,
  energy_today: 1809.924
}
[2023-04-08T14:14:36.882] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.882] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 27.481,
  lifetime: 2241514364.1,
  energy_today: 4274.552299999999
}
[2023-04-08T14:14:36.892] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:14:36.893] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 27.481,
  lifetime: 2241514364.1,
  energy_today: 4274.552299999999
}
[2023-04-08T14:14:36.904] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.904] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.78,
  lifetime: 1297757925,
  energy_today: 2348.995
}
[2023-04-08T14:14:36.912] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:14:36.912] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.78,
  lifetime: 1297757925,
  energy_today: 2348.995
}
[2023-04-08T14:14:36.923] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.925] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 680.721,
  lifetime: 3854550116,
  energy_today: 4667.484
}
[2023-04-08T14:14:36.935] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:14:36.935] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 680.721,
  lifetime: 3854550116,
  energy_today: 4667.484
}
[2023-04-08T14:14:36.948] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.948] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1260.094,
  lifetime: 4150529163.8,
  energy_today: 5653.9944000000005
}
[2023-04-08T14:14:36.961] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:14:36.962] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1260.094,
  lifetime: 4150529163.8,
  energy_today: 5653.9944000000005
}
[2023-04-08T14:14:36.978] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:36.978] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 664.95,
  lifetime: 3524962775.0000005,
  energy_today: 3921.6308
}
[2023-04-08T14:14:37.021] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:14:37.023] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 664.95,
  lifetime: 3524962775.0000005,
  energy_today: 3921.6308
}
[2023-04-08T14:14:37.036] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.037] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 439.75,
  lifetime: 1843599183,
  energy_today: 2258.9551
}
[2023-04-08T14:14:37.047] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:14:37.047] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 439.75,
  lifetime: 1843599183,
  energy_today: 2258.9551
}
[2023-04-08T14:14:37.057] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.057] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 649.77,
  lifetime: 3057538270.9,
  energy_today: 4022.697
}
[2023-04-08T14:14:37.064] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:14:37.064] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 649.77,
  lifetime: 3057538270.9,
  energy_today: 4022.697
}
[2023-04-08T14:14:37.072] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.072] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 120.533,
  lifetime: 691335039,
  energy_today: 769.8105
}
[2023-04-08T14:14:37.083] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:14:37.084] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 120.533,
  lifetime: 691335039,
  energy_today: 769.8105
}
[2023-04-08T14:14:37.258] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.259] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 189.524,
  lifetime: 627360188.8,
  energy_today: 840.2504
}
[2023-04-08T14:14:37.297] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:14:37.298] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 189.524,
  lifetime: 627360188.8,
  energy_today: 840.2504
}
[2023-04-08T14:14:37.332] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.333] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 482.573,
  lifetime: 2710945178.8,
  energy_today: 3299.7554000000005
}
[2023-04-08T14:14:37.350] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:14:37.350] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:10',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 482.573,
  lifetime: 2710945178.8,
  energy_today: 3299.7554000000005
}
[2023-04-08T14:14:37.372] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.373] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 745.38,
  lifetime: 1380778845,
  energy_today: 1616.9581000000003
}
[2023-04-08T14:14:37.381] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:14:37.381] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 745.38,
  lifetime: 1380778845,
  energy_today: 1616.9581000000003
}
[2023-04-08T14:14:37.392] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:14:37.392] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.45,
  lifetime: 1419744403,
  energy_today: 1627.0444
}
[2023-04-08T14:14:37.404] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:14:37.404] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.45,
  lifetime: 1419744403,
  energy_today: 1627.0444
}
[2023-04-08T14:14:37.685] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:14:37.685] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:17:41.103] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:17:41.103] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:17:41.130] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:17:41.131] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:17:41.142] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:17:41.142] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:17:41.143] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:17:41.143] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:17:41.164] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:17:41.164] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:17:41.180] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:17:41.180] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:17:41.189] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:17:41.189] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:17:41.200] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:17:41.200] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:17:41.208] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:17:41.208] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:17:42.236] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.237] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:15',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 101.411,
  lifetime: 156440965.2,
  energy_today: 205.779
}
[2023-04-08T14:17:42.246] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:17:42.247] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:15',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 101.411,
  lifetime: 156440965.2,
  energy_today: 205.779
}
[2023-04-08T14:17:42.258] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.258] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 370.09,
  lifetime: 859147526.1999999,
  energy_today: 1299.3311999999996
}
[2023-04-08T14:17:42.267] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:17:42.267] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 370.09,
  lifetime: 859147526.1999999,
  energy_today: 1299.3311999999996
}
[2023-04-08T14:17:42.278] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.278] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 188.641,
  lifetime: 499022909.8,
  energy_today: 544.8106
}
[2023-04-08T14:17:42.288] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:17:42.289] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 188.641,
  lifetime: 499022909.8,
  energy_today: 544.8106
}
[2023-04-08T14:17:42.306] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.308] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 263.23,
  lifetime: 1767782259,
  energy_today: 1817.595
}
[2023-04-08T14:17:42.320] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:17:42.320] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 263.23,
  lifetime: 1767782259,
  energy_today: 1817.595
}
[2023-04-08T14:17:42.340] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.340] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 27.481,
  lifetime: 2241514364.1,
  energy_today: 4274.552299999999
}
[2023-04-08T14:17:42.363] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:17:42.363] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 27.481,
  lifetime: 2241514364.1,
  energy_today: 4274.552299999999
}
[2023-04-08T14:17:42.374] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.374] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 135.1,
  lifetime: 1297761925,
  energy_today: 2352.995
}
[2023-04-08T14:17:42.382] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:17:42.382] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 135.1,
  lifetime: 1297761925,
  energy_today: 2352.995
}
[2023-04-08T14:17:42.392] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.392] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 669.139,
  lifetime: 3854580268,
  energy_today: 4697.636
}
[2023-04-08T14:17:42.400] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:17:42.400] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 669.139,
  lifetime: 3854580268,
  energy_today: 4697.636
}
[2023-04-08T14:17:42.413] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.413] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1243.476,
  lifetime: 4150565581.8,
  energy_today: 5690.4124
}
[2023-04-08T14:17:42.427] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:17:42.427] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1243.476,
  lifetime: 4150565581.8,
  energy_today: 5690.4124
}
[2023-04-08T14:17:42.564] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.564] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 653.44,
  lifetime: 3524980779.2000003,
  energy_today: 3939.635
}
[2023-04-08T14:17:42.572] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:17:42.572] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 653.44,
  lifetime: 3524980779.2000003,
  energy_today: 3939.635
}
[2023-04-08T14:17:42.586] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.586] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 436.06,
  lifetime: 1843606160,
  energy_today: 2265.9321
}
[2023-04-08T14:17:42.596] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:17:42.596] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 436.06,
  lifetime: 1843606160,
  energy_today: 2265.9321
}
[2023-04-08T14:17:42.612] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.612] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 643.621,
  lifetime: 3057558139.9,
  energy_today: 4042.566
}
[2023-04-08T14:17:42.623] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:17:42.623] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 643.621,
  lifetime: 3057558139.9,
  energy_today: 4042.566
}
[2023-04-08T14:17:42.635] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.635] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 115.908,
  lifetime: 691344199,
  energy_today: 778.9705
}
[2023-04-08T14:17:42.645] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:17:42.645] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 115.908,
  lifetime: 691344199,
  energy_today: 778.9705
}
[2023-04-08T14:17:42.778] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.779] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 221.354,
  lifetime: 627364044,
  energy_today: 844.1056
}
[2023-04-08T14:17:42.789] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:17:42.789] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 221.354,
  lifetime: 627364044,
  energy_today: 844.1056
}
[2023-04-08T14:17:42.802] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.803] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 473.423,
  lifetime: 2710966206.8,
  energy_today: 3320.7834000000003
}
[2023-04-08T14:17:42.813] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:17:42.813] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 473.423,
  lifetime: 2710966206.8,
  energy_today: 3320.7834000000003
}
[2023-04-08T14:17:42.826] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.826] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 733.62,
  lifetime: 1380778877.3000002,
  energy_today: 1616.9904000000001
}
[2023-04-08T14:17:42.839] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:17:42.840] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 733.62,
  lifetime: 1380778877.3000002,
  energy_today: 1616.9904000000001
}
[2023-04-08T14:17:42.849] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:17:42.849] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.45,
  lifetime: 1419744403,
  energy_today: 1627.0444
}
[2023-04-08T14:17:42.857] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:17:42.858] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 311.45,
  lifetime: 1419744403,
  energy_today: 1627.0444
}
[2023-04-08T14:17:42.876] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:17:42.877] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:19:38.761] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:19:38.762] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:19:38.788] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:19:38.788] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:19:38.795] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:19:38.795] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:19:38.805] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:19:38.805] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:19:38.806] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:19:38.806] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:19:38.864] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:19:38.864] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:19:39.825] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:39.825] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:15',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 102.371,
  lifetime: 156440974.8,
  energy_today: 205.7886000000001
}
[2023-04-08T14:19:40.445] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:19:40.445] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:15',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 102.371,
  lifetime: 156440974.8,
  energy_today: 205.7886000000001
}
[2023-04-08T14:19:40.461] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.461] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 369.78,
  lifetime: 859153560.8,
  energy_today: 1305.3657999999998
}
[2023-04-08T14:19:40.470] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:19:40.471] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 369.78,
  lifetime: 859153560.8,
  energy_today: 1305.3657999999998
}
[2023-04-08T14:19:40.482] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.483] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 182.95,
  lifetime: 499029145,
  energy_today: 551.0458000000001
}
[2023-04-08T14:19:40.495] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:19:40.495] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 182.95,
  lifetime: 499029145,
  energy_today: 551.0458000000001
}
[2023-04-08T14:19:40.507] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.508] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 256.57,
  lifetime: 1767796613,
  energy_today: 1831.949
}
[2023-04-08T14:19:40.515] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:19:40.515] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 256.57,
  lifetime: 1767796613,
  energy_today: 1831.949
}
[2023-04-08T14:19:40.533] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.533] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 34.409,
  lifetime: 2241514365.5,
  energy_today: 4274.5537
}
[2023-04-08T14:19:40.541] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:19:40.541] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 34.409,
  lifetime: 2241514365.5,
  energy_today: 4274.5537
}
[2023-04-08T14:19:40.678] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.678] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.42,
  lifetime: 1297761934.6,
  energy_today: 2353.0046
}
[2023-04-08T14:19:40.693] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:19:40.693] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.42,
  lifetime: 1297761934.6,
  energy_today: 2353.0046
}
[2023-04-08T14:19:40.745] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.745] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 659.138,
  lifetime: 3854606488,
  energy_today: 4723.856
}
[2023-04-08T14:19:40.757] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:19:40.757] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 659.138,
  lifetime: 3854606488,
  energy_today: 4723.856
}
[2023-04-08T14:19:40.772] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.773] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1230.579,
  lifetime: 4150598219.6,
  energy_today: 5723.050200000001
}
[2023-04-08T14:19:40.783] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:19:40.783] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1230.579,
  lifetime: 4150598219.6,
  energy_today: 5723.050200000001
}
[2023-04-08T14:19:40.930] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.930] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 639.34,
  lifetime: 3525009525.8,
  energy_today: 3968.3816000000006
}
[2023-04-08T14:19:40.953] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:19:40.954] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 639.34,
  lifetime: 3525009525.8,
  energy_today: 3968.3816000000006
}
[2023-04-08T14:19:40.976] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:40.976] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 426.4,
  lifetime: 1843625876,
  energy_today: 2285.6481
}
[2023-04-08T14:19:41.111] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:19:41.112] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:19:41.116] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:19:41.116] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 426.4,
  lifetime: 1843625876,
  energy_today: 2285.6481
}
[2023-04-08T14:19:41.129] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:19:41.129] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:19:41.139] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:41.139] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 635.171,
  lifetime: 3057586920,
  energy_today: 4071.3461
}
[2023-04-08T14:19:41.144] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:19:41.144] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:19:41.172] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:19:41.172] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 635.171,
  lifetime: 3057586920,
  energy_today: 4071.3461
}
[2023-04-08T14:19:41.675] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:41.675] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 116.058,
  lifetime: 691344200,
  energy_today: 778.9715
}
[2023-04-08T14:19:41.705] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:19:41.706] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 116.058,
  lifetime: 691344200,
  energy_today: 778.9715
}
[2023-04-08T14:19:41.716] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:41.716] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 218.07,
  lifetime: 627370249,
  energy_today: 850.3106
}
[2023-04-08T14:19:41.726] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:19:41.726] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 218.07,
  lifetime: 627370249,
  energy_today: 850.3106
}
[2023-04-08T14:19:41.736] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:41.736] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 466.309,
  lifetime: 2710984795.8,
  energy_today: 3339.3724
}
[2023-04-08T14:19:41.743] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:19:41.743] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 466.309,
  lifetime: 2710984795.8,
  energy_today: 3339.3724
}
[2023-04-08T14:19:41.893] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:41.893] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 722.43,
  lifetime: 1380798160.5,
  energy_today: 1636.2735999999998
}
[2023-04-08T14:19:41.904] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:19:41.904] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 722.43,
  lifetime: 1380798160.5,
  energy_today: 1636.2735999999998
}
[2023-04-08T14:19:41.914] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:19:41.914] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 302.68,
  lifetime: 1419764153.2,
  energy_today: 1646.7946000000002
}
[2023-04-08T14:19:41.924] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:19:41.924] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 302.68,
  lifetime: 1419764153.2,
  energy_today: 1646.7946000000002
}
[2023-04-08T14:19:41.951] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:19:41.952] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:19:51.290] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
LIMIT
  1;
[2023-04-08T14:19:51.291] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:19:51.312] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:19:51.312] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:19:51.331] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:19:51.331] [INFO] SQLMapperLog - param: { id_project: 41 }
[2023-04-08T14:19:51.350] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_ABB_PVS100 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 41
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_ABB_PVS100 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_ABB_PVS100 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 41
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 18
LIMIT
  1;
[2023-04-08T14:19:51.351] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100'
}
[2023-04-08T14:19:51.481] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:19:51.481] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 1,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:19:51.495] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:19:51.496] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 1,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:19:51.540] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 190
GROUP BY
  time_format
[2023-04-08T14:19:51.540] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 190,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:19:51.722] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 191
GROUP BY
  time_format
[2023-04-08T14:19:51.723] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 191,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:19:51.812] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 192
GROUP BY
  time_format
[2023-04-08T14:19:51.812] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 192,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:19:51.879] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 388
GROUP BY
  time_format
[2023-04-08T14:19:51.880] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 388,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:19:51.888] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 41
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:19:51.888] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:19:55.709] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:19:55.709] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:20:01.261] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 41
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 41
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:20:01.262] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:20:06.622] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:20:06.623] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:20:06.626] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:20:06.626] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:20:06.644] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:20:06.645] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:20:06.649] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:20:06.649] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:20:06.702] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:20:06.703] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:20:06.708] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:20:06.708] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:20:06.741] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:20:06.741] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:20:06.854] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:20:06.854] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:20:18.118] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:20:18.118] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:20:18.268] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:20:18.269] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:20:22.005] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:20:22.005] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:20:22.017] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:20:22.017] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:20:48.930] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:20:48.930] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:20:48.969] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:20:48.970] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:20:48.975] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:20:48.975] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:20:48.983] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:20:48.983] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:20:48.989] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:20:48.989] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:20:48.996] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:20:48.996] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:20:49.015] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:20:49.015] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:20:49.020] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:20:49.020] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:20:49.030] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:20:49.030] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:20:50.341] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.342] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:20',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 102.371,
  lifetime: 156440974.8,
  energy_today: 205.7886000000001
}
[2023-04-08T14:20:50.353] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:20:50.353] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:20',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 102.371,
  lifetime: 156440974.8,
  energy_today: 205.7886000000001
}
[2023-04-08T14:20:50.378] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.378] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 369.78,
  lifetime: 859153560.8,
  energy_today: 1305.3657999999998
}
[2023-04-08T14:20:50.420] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:20:50.420] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 369.78,
  lifetime: 859153560.8,
  energy_today: 1305.3657999999998
}
[2023-04-08T14:20:50.435] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.435] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 182.95,
  lifetime: 499029145,
  energy_today: 551.0458000000001
}
[2023-04-08T14:20:50.447] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:20:50.448] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 182.95,
  lifetime: 499029145,
  energy_today: 551.0458000000001
}
[2023-04-08T14:20:50.460] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.460] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 256.57,
  lifetime: 1767796613,
  energy_today: 1831.949
}
[2023-04-08T14:20:50.469] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:20:50.469] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 256.57,
  lifetime: 1767796613,
  energy_today: 1831.949
}
[2023-04-08T14:20:50.487] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.487] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 34.409,
  lifetime: 2241514365.5,
  energy_today: 4274.5537
}
[2023-04-08T14:20:50.499] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:20:50.500] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 34.409,
  lifetime: 2241514365.5,
  energy_today: 4274.5537
}
[2023-04-08T14:20:50.513] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.513] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.42,
  lifetime: 1297761934.6,
  energy_today: 2353.0046
}
[2023-04-08T14:20:50.523] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:20:50.523] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.42,
  lifetime: 1297761934.6,
  energy_today: 2353.0046
}
[2023-04-08T14:20:50.535] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.535] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 659.138,
  lifetime: 3854606488,
  energy_today: 4723.856
}
[2023-04-08T14:20:50.544] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:20:50.544] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 659.138,
  lifetime: 3854606488,
  energy_today: 4723.856
}
[2023-04-08T14:20:50.558] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.558] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1230.579,
  lifetime: 4150598219.6,
  energy_today: 5723.050200000001
}
[2023-04-08T14:20:50.577] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:20:50.579] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1230.579,
  lifetime: 4150598219.6,
  energy_today: 5723.050200000001
}
[2023-04-08T14:20:50.596] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.598] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 639.34,
  lifetime: 3525009525.8,
  energy_today: 3968.3816000000006
}
[2023-04-08T14:20:50.609] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:20:50.609] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 639.34,
  lifetime: 3525009525.8,
  energy_today: 3968.3816000000006
}
[2023-04-08T14:20:50.619] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.620] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 426.4,
  lifetime: 1843625876,
  energy_today: 2285.6481
}
[2023-04-08T14:20:50.628] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:20:50.629] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 426.4,
  lifetime: 1843625876,
  energy_today: 2285.6481
}
[2023-04-08T14:20:50.641] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.641] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 635.171,
  lifetime: 3057586920,
  energy_today: 4071.3461
}
[2023-04-08T14:20:50.651] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:20:50.651] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 635.171,
  lifetime: 3057586920,
  energy_today: 4071.3461
}
[2023-04-08T14:20:50.662] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.663] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 116.058,
  lifetime: 691344200,
  energy_today: 778.9715
}
[2023-04-08T14:20:50.679] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:20:50.679] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 116.058,
  lifetime: 691344200,
  energy_today: 778.9715
}
[2023-04-08T14:20:50.697] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.697] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 218.07,
  lifetime: 627370249,
  energy_today: 850.3106
}
[2023-04-08T14:20:50.713] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:20:50.713] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 218.07,
  lifetime: 627370249,
  energy_today: 850.3106
}
[2023-04-08T14:20:50.725] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.726] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 466.309,
  lifetime: 2710984795.8,
  energy_today: 3339.3724
}
[2023-04-08T14:20:50.736] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:20:50.737] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 466.309,
  lifetime: 2710984795.8,
  energy_today: 3339.3724
}
[2023-04-08T14:20:50.757] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.757] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 722.43,
  lifetime: 1380798160.5,
  energy_today: 1636.2735999999998
}
[2023-04-08T14:20:50.785] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:20:50.786] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 722.43,
  lifetime: 1380798160.5,
  energy_today: 1636.2735999999998
}
[2023-04-08T14:20:50.811] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:20:50.811] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 302.68,
  lifetime: 1419764153.2,
  energy_today: 1646.7946000000002
}
[2023-04-08T14:20:50.818] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:20:50.818] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 302.68,
  lifetime: 1419764153.2,
  energy_today: 1646.7946000000002
}
[2023-04-08T14:20:50.833] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:20:50.834] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:21:26.195] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:21:26.216] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:21:26.279] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:21:26.280] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:21:26.295] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:21:26.296] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:21:26.301] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:21:26.301] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:21:26.314] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:21:26.314] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:21:26.321] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:21:26.321] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:21:26.328] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:21:26.328] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:21:26.335] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:21:26.335] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:21:26.344] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:21:26.344] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:21:27.311] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.312] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:20',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 102.371,
  lifetime: 156440974.8,
  energy_today: 205.7886000000001
}
[2023-04-08T14:21:27.328] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:21:27.328] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:20',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 102.371,
  lifetime: 156440974.8,
  energy_today: 205.7886000000001
}
[2023-04-08T14:21:27.339] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.339] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 369.78,
  lifetime: 859153560.8,
  energy_today: 1305.3657999999998
}
[2023-04-08T14:21:27.348] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:21:27.348] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 369.78,
  lifetime: 859153560.8,
  energy_today: 1305.3657999999998
}
[2023-04-08T14:21:27.360] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.360] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 182.95,
  lifetime: 499029145,
  energy_today: 551.0458000000001
}
[2023-04-08T14:21:27.392] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:21:27.392] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 182.95,
  lifetime: 499029145,
  energy_today: 551.0458000000001
}
[2023-04-08T14:21:27.400] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.400] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 256.57,
  lifetime: 1767796613,
  energy_today: 1831.949
}
[2023-04-08T14:21:27.406] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:21:27.407] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 256.57,
  lifetime: 1767796613,
  energy_today: 1831.949
}
[2023-04-08T14:21:27.417] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.417] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 34.409,
  lifetime: 2241514365.5,
  energy_today: 4274.5537
}
[2023-04-08T14:21:27.424] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:21:27.424] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 34.409,
  lifetime: 2241514365.5,
  energy_today: 4274.5537
}
[2023-04-08T14:21:27.439] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.439] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.42,
  lifetime: 1297761934.6,
  energy_today: 2353.0046
}
[2023-04-08T14:21:27.468] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:21:27.473] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 136.42,
  lifetime: 1297761934.6,
  energy_today: 2353.0046
}
[2023-04-08T14:21:27.489] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.489] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 659.138,
  lifetime: 3854606488,
  energy_today: 4723.856
}
[2023-04-08T14:21:27.496] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:21:27.497] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 659.138,
  lifetime: 3854606488,
  energy_today: 4723.856
}
[2023-04-08T14:21:27.506] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.506] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1230.579,
  lifetime: 4150598219.6,
  energy_today: 5723.050200000001
}
[2023-04-08T14:21:27.515] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:21:27.515] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1230.579,
  lifetime: 4150598219.6,
  energy_today: 5723.050200000001
}
[2023-04-08T14:21:27.534] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.534] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 639.34,
  lifetime: 3525009525.8,
  energy_today: 3968.3816000000006
}
[2023-04-08T14:21:27.541] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:21:27.541] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 639.34,
  lifetime: 3525009525.8,
  energy_today: 3968.3816000000006
}
[2023-04-08T14:21:27.549] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.549] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 426.4,
  lifetime: 1843625876,
  energy_today: 2285.6481
}
[2023-04-08T14:21:27.558] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:21:27.558] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:15',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 426.4,
  lifetime: 1843625876,
  energy_today: 2285.6481
}
[2023-04-08T14:21:27.568] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.568] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 635.171,
  lifetime: 3057586920,
  energy_today: 4071.3461
}
[2023-04-08T14:21:27.575] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:21:27.575] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 635.171,
  lifetime: 3057586920,
  energy_today: 4071.3461
}
[2023-04-08T14:21:27.585] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.585] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 116.058,
  lifetime: 691344200,
  energy_today: 778.9715
}
[2023-04-08T14:21:27.593] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:21:27.594] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 116.058,
  lifetime: 691344200,
  energy_today: 778.9715
}
[2023-04-08T14:21:27.602] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.602] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 218.07,
  lifetime: 627370249,
  energy_today: 850.3106
}
[2023-04-08T14:21:27.610] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:21:27.611] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 218.07,
  lifetime: 627370249,
  energy_today: 850.3106
}
[2023-04-08T14:21:27.622] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.623] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 466.309,
  lifetime: 2710984795.8,
  energy_today: 3339.3724
}
[2023-04-08T14:21:27.632] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:21:27.632] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:20',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 466.309,
  lifetime: 2710984795.8,
  energy_today: 3339.3724
}
[2023-04-08T14:21:27.644] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.644] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 722.43,
  lifetime: 1380798160.5,
  energy_today: 1636.2735999999998
}
[2023-04-08T14:21:27.652] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:21:27.652] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 722.43,
  lifetime: 1380798160.5,
  energy_today: 1636.2735999999998
}
[2023-04-08T14:21:27.671] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:21:27.671] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 302.68,
  lifetime: 1419764153.2,
  energy_today: 1646.7946000000002
}
[2023-04-08T14:21:27.678] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:21:27.679] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 302.68,
  lifetime: 1419764153.2,
  energy_today: 1646.7946000000002
}
[2023-04-08T14:21:27.699] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:21:27.700] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:27:33.904] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:27:33.905] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 1,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:27:33.906] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
LIMIT
  1;
[2023-04-08T14:27:33.906] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:27:33.920] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:27:33.921] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 1,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:27:33.949] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 190
GROUP BY
  time_format
[2023-04-08T14:27:33.949] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 190,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:27:34.049] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:27:34.049] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:27:34.065] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:27:34.065] [INFO] SQLMapperLog - param: { id_project: 41 }
[2023-04-08T14:27:34.083] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_ABB_PVS100 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 41
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_ABB_PVS100 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_ABB_PVS100 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 41
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 18
LIMIT
  1;
[2023-04-08T14:27:34.083] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100'
}
[2023-04-08T14:27:34.143] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 191
GROUP BY
  time_format
[2023-04-08T14:27:34.143] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 191,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:27:34.198] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 192
GROUP BY
  time_format
[2023-04-08T14:27:34.199] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 192,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:27:34.248] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 388
GROUP BY
  time_format
[2023-04-08T14:27:34.248] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 388,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:27:34.437] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 41
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:27:34.437] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:27:37.848] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:27:37.848] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:27:38.435] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 41
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 41
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:27:38.437] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:27:39.847] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:27:39.848] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:27:39.850] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:27:39.850] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:27:39.867] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:27:39.867] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:27:39.869] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:27:39.869] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:27:39.892] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:27:39.892] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:27:39.893] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:27:39.893] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:27:39.906] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:27:39.906] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:27:39.991] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:27:39.991] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:27:46.674] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:27:46.674] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:27:46.687] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:27:46.687] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:27:50.103] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:27:50.103] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:27:50.118] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:27:50.119] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:28:33.499] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:28:33.500] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:28:33.648] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:28:33.649] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:28:33.660] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:28:33.660] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:28:33.670] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:28:33.670] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:28:33.728] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:28:33.728] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:28:33.874] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:28:33.875] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:28:33.889] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:28:33.889] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:28:34.152] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:28:34.153] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:28:34.164] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:28:34.164] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:28:35.169] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:35.169] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:25',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 99.834,
  lifetime: 156443069.6,
  energy_today: 207.88340000000014
}
[2023-04-08T14:28:35.183] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:28:35.183] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:25',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8467.125199999999,
  power_now: 99.834,
  lifetime: 156443069.6,
  energy_today: 207.88340000000014
}
[2023-04-08T14:28:36.331] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 11
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:36.331] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 341.9,
  lifetime: 859180605.8,
  energy_today: 1332.4108000000003
}
[2023-04-08T14:28:36.353] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:28:36.353] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48317.313,
  power_now: 341.9,
  lifetime: 859180605.8,
  energy_today: 1332.4108000000003
}
[2023-04-08T14:28:36.373] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 14
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:36.374] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 171.948,
  lifetime: 499042565,
  energy_today: 564.4658000000001
}
[2023-04-08T14:28:36.387] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:28:36.387] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21933.854,
  power_now: 171.948,
  lifetime: 499042565,
  energy_today: 564.4658000000001
}
[2023-04-08T14:28:36.411] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 15
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:36.411] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 238.73,
  lifetime: 1767838346,
  energy_today: 1873.682
}
[2023-04-08T14:28:36.433] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:28:36.433] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 238.73,
  lifetime: 1767838346,
  energy_today: 1873.682
}
[2023-04-08T14:28:36.492] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 16
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:36.493] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 33.481,
  lifetime: 2241514370.7,
  energy_today: 4274.558899999999
}
[2023-04-08T14:28:36.512] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:28:36.512] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92094.28530000002,
  power_now: 33.481,
  lifetime: 2241514370.7,
  energy_today: 4274.558899999999
}
[2023-04-08T14:28:37.028] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 17
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:37.028] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 129.23,
  lifetime: 1297768947.8,
  energy_today: 2360.0177999999996
}
[2023-04-08T14:28:38.665] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:28:38.665] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 57018.1832,
  power_now: 129.23,
  lifetime: 1297768947.8,
  energy_today: 2360.0177999999996
}
[2023-04-08T14:28:38.682] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 24
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:38.682] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 613.142,
  lifetime: 3854713442,
  energy_today: 4830.81
}
[2023-04-08T14:28:38.849] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:28:38.850] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 613.142,
  lifetime: 3854713442,
  energy_today: 4830.81
}
[2023-04-08T14:28:38.890] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 25
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:38.891] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1245,
  lifetime: 4150729253.6,
  energy_today: 5854.0842
}
[2023-04-08T14:28:38.914] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:28:38.914] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230505.497,
  power_now: 1245,
  lifetime: 4150729253.6,
  energy_today: 5854.0842
}
[2023-04-08T14:28:38.930] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 26
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:38.930] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 607.36,
  lifetime: 3525099791.1000004,
  energy_today: 4058.6468999999997
}
[2023-04-08T14:28:38.945] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:28:38.945] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150744.53579999998,
  power_now: 607.36,
  lifetime: 3525099791.1000004,
  energy_today: 4058.6468999999997
}
[2023-04-08T14:28:38.969] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 27
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:38.970] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 436.43,
  lifetime: 1843678865,
  energy_today: 2338.6371
}
[2023-04-08T14:28:38.986] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:28:38.986] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88314.101,
  power_now: 436.43,
  lifetime: 1843678865,
  energy_today: 2338.6371
}
[2023-04-08T14:28:39.011] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 28
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:39.011] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 594.987,
  lifetime: 3057680129,
  energy_today: 4164.5551000000005
}
[2023-04-08T14:28:39.052] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:28:39.053] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154432.729,
  power_now: 594.987,
  lifetime: 3057680129,
  energy_today: 4164.5551000000005
}
[2023-04-08T14:28:39.096] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 29
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:39.096] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 110.353,
  lifetime: 691361942,
  energy_today: 796.7135
}
[2023-04-08T14:28:39.112] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:28:39.113] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29984.2125,
  power_now: 110.353,
  lifetime: 691361942,
  energy_today: 796.7135
}
[2023-04-08T14:28:39.218] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 30
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:39.219] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 167.985,
  lifetime: 627389808.8,
  energy_today: 869.8704
}
[2023-04-08T14:28:39.916] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:28:39.918] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 33004.968,
  power_now: 167.985,
  lifetime: 627389808.8,
  energy_today: 869.8704
}
[2023-04-08T14:28:39.934] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 31
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:39.935] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 434.923,
  lifetime: 2711059668.8,
  energy_today: 3414.2454000000002
}
[2023-04-08T14:28:39.956] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:28:39.956] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:25',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125489.36779999999,
  power_now: 434.923,
  lifetime: 2711059668.8,
  energy_today: 3414.2454000000002
}
[2023-04-08T14:28:39.977] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 32
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:39.978] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 706.29,
  lifetime: 1380834534.3999999,
  energy_today: 1672.6475000000005
}
[2023-04-08T14:28:39.999] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:28:39.999] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60722.356,
  power_now: 706.29,
  lifetime: 1380834534.3999999,
  energy_today: 1672.6475000000005
}
[2023-04-08T14:28:40.016] [INFO] SQLMapperLog - [sqlId:MainProject.getGroupDeviceByProjectId] SELECT
  d.id,
  d.id_device,
  d.`name`,
  d.id_device_group,
  dg.table_name,
  d.id_project
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 33
  AND d.`status` IN (0, 1)
  AND d.id_device_group IN (18, 19, 20, 21, 22, 28)
GROUP BY
  d.id_device_group
[2023-04-08T14:28:40.016] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 287.19,
  lifetime: 1419801372.2,
  energy_today: 1684.0136
}
[2023-04-08T14:28:40.040] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:28:40.041] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65349.0164,
  power_now: 287.19,
  lifetime: 1419801372.2,
  energy_today: 1684.0136
}
[2023-04-08T14:28:40.080] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:28:40.081] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:31:52.902] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:31:52.902] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:31:52.954] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:31:52.955] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:31:53.129] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
      AND d.id_device_type = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:31:53.129] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:31:53.175] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:53.175] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:53.187] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:53.187] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:53.210] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:53.211] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:53.230] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:53.230] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:53.249] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:53.249] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:53.270] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:53.270] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:54.033] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:31:54.033] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:30',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8440.578,
  power_now: 29.913,
  lifetime: 154837089,
  energy_today: 209.538
}
[2023-04-08T14:31:54.055] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:31:54.056] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48255,
  power_now: 167.79,
  lifetime: 857478040,
  energy_today: 1336.04
}
[2023-04-08T14:31:54.072] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:31:54.073] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21896.458,
  power_now: 71.148,
  lifetime: 497741877,
  energy_today: 566.741
}
[2023-04-08T14:31:54.088] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:31:54.088] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 238.06,
  lifetime: 1765413923,
  energy_today: 1883.183
}
[2023-04-08T14:31:54.114] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:31:54.115] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92085.082,
  power_now: 0,
  lifetime: 2240468459,
  energy_today: 4274.324
}
[2023-04-08T14:31:54.137] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:31:54.138] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 56991.932,
  power_now: 41.75,
  lifetime: 1297017293,
  energy_today: 2359.329
}
[2023-04-08T14:31:54.288] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:31:54.288] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 614.493,
  lifetime: 3853927600,
  energy_today: 4851.284
}
[2023-04-08T14:31:54.337] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:31:54.337] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230389.577,
  power_now: 748.548,
  lifetime: 4147709412,
  energy_today: 5865.993
}
[2023-04-08T14:31:54.370] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:31:54.370] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150698.933,
  power_now: 513.42,
  lifetime: 3521676257,
  energy_today: 4080.953
}
[2023-04-08T14:31:54.391] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:31:54.392] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88267.649,
  power_now: 297.81,
  lifetime: 1841959182,
  energy_today: 2348.972
}
[2023-04-08T14:31:54.406] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:31:54.407] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154394.562,
  power_now: 534.687,
  lifetime: 3056852856,
  energy_today: 4181.919
}
[2023-04-08T14:31:54.427] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:31:54.428] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29977.447,
  power_now: 100.853,
  lifetime: 691196673,
  energy_today: 796.64
}
[2023-04-08T14:31:54.451] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:31:54.452] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 32982.408,
  power_now: 110.775,
  lifetime: 626768065,
  energy_today: 872.891
}
[2023-04-08T14:31:54.474] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:31:54.474] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125437.451,
  power_now: 432.843,
  lifetime: 2708988502,
  energy_today: 3433.433
}
[2023-04-08T14:31:54.490] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:31:54.490] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60552.021,
  power_now: 209.09,
  lifetime: 1377671811,
  energy_today: 1672.413
}
[2023-04-08T14:31:54.503] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:31:54.503] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65331.83,
  power_now: 213.83,
  lifetime: 1419394102,
  energy_today: 1687.129
}
[2023-04-08T14:31:54.525] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:31:54.526] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:31:56.240] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:31:56.240] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:31:56.273] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
      AND d.id_device_type = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:31:56.274] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:31:56.274] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:31:56.274] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:31:56.292] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:56.292] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:56.302] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:56.303] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:56.341] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:56.341] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:56.354] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:56.354] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:56.364] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:56.364] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:56.375] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:31:56.375] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:31:56.990] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:31:56.990] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:30',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8440.578,
  power_now: 29.913,
  lifetime: 154837089,
  energy_today: 209.538
}
[2023-04-08T14:31:57.015] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:31:57.015] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48255,
  power_now: 167.79,
  lifetime: 857478040,
  energy_today: 1336.04
}
[2023-04-08T14:31:57.167] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:31:57.168] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21896.458,
  power_now: 71.148,
  lifetime: 497741877,
  energy_today: 566.741
}
[2023-04-08T14:31:57.180] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:31:57.182] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 238.06,
  lifetime: 1765413923,
  energy_today: 1883.183
}
[2023-04-08T14:31:57.213] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:31:57.213] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92085.082,
  power_now: 0,
  lifetime: 2240468459,
  energy_today: 4274.324
}
[2023-04-08T14:31:57.231] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:31:57.231] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 56991.932,
  power_now: 41.75,
  lifetime: 1297017293,
  energy_today: 2359.329
}
[2023-04-08T14:31:57.251] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:31:57.251] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 614.493,
  lifetime: 3853927600,
  energy_today: 4851.284
}
[2023-04-08T14:31:57.270] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:31:57.270] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230389.577,
  power_now: 748.548,
  lifetime: 4147709412,
  energy_today: 5865.993
}
[2023-04-08T14:31:57.320] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:31:57.320] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150698.933,
  power_now: 513.42,
  lifetime: 3521676257,
  energy_today: 4080.953
}
[2023-04-08T14:31:57.348] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:31:57.349] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88267.649,
  power_now: 297.81,
  lifetime: 1841959182,
  energy_today: 2348.972
}
[2023-04-08T14:31:57.365] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:31:57.366] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154394.562,
  power_now: 534.687,
  lifetime: 3056852856,
  energy_today: 4181.919
}
[2023-04-08T14:31:57.396] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:31:57.396] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29977.447,
  power_now: 100.853,
  lifetime: 691196673,
  energy_today: 796.64
}
[2023-04-08T14:31:57.427] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:31:57.427] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 32982.408,
  power_now: 110.775,
  lifetime: 626768065,
  energy_today: 872.891
}
[2023-04-08T14:31:57.444] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:31:57.444] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:30',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125437.451,
  power_now: 432.843,
  lifetime: 2708988502,
  energy_today: 3433.433
}
[2023-04-08T14:31:57.486] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:31:57.486] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60552.021,
  power_now: 209.09,
  lifetime: 1377671811,
  energy_today: 1672.413
}
[2023-04-08T14:31:57.514] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:31:57.515] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65331.83,
  power_now: 213.83,
  lifetime: 1419394102,
  energy_today: 1687.129
}
[2023-04-08T14:31:57.556] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:31:57.556] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:32:04.491] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:32:04.492] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:32:04.524] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:32:04.525] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:32:04.557] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:32:04.557] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:32:04.572] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:32:04.572] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:32:04.591] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:32:04.592] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:32:04.606] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:32:04.606] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:32:04.634] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:32:04.634] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:32:04.653] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:32:04.653] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:32:28.845] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
LIMIT
  1;
[2023-04-08T14:32:28.845] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:32:28.927] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:32:28.927] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:32:28.956] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:32:28.956] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:32:29.089] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 190
GROUP BY
  time_format
[2023-04-08T14:32:29.089] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 190,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:32:29.091] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'a9b365b5e3910f21ac1c97d0ad61e2f3'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:32:29.091] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'a9b365b5e3910f21ac1c97d0ad61e2f3',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:32:29.210] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 41
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:32:29.210] [INFO] SQLMapperLog - param: { id_project: 41 }
[2023-04-08T14:32:29.239] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_ABB_PVS100 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 41
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_ABB_PVS100 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_ABB_PVS100 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 41
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 18
LIMIT
  1;
[2023-04-08T14:32:29.240] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100'
}
[2023-04-08T14:32:29.374] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 191
GROUP BY
  time_format
[2023-04-08T14:32:29.375] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 191,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:32:29.509] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 192
GROUP BY
  time_format
[2023-04-08T14:32:29.510] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 192,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:32:29.607] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_ABB_PVS100 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 388
GROUP BY
  time_format
[2023-04-08T14:32:29.607] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 388,
  id_project: 41,
  id_device_group: 18,
  table_name: 'model_inverter_ABB_PVS100',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:32:29.789] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 41
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:32:29.789] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:32:33.218] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 41
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:32:33.219] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:32:33.939] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 41
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 41
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:32:33.940] [INFO] SQLMapperLog - param: {
  id_project: 41,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:32:35.602] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:32:35.603] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:32:35.605] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:32:35.605] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:32:35.618] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:32:35.618] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 2,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:32:35.621] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:32:35.621] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:32:35.635] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:32:35.635] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:32:35.635] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:32:35.635] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:32:35.655] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:32:35.656] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:32:35.739] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:32:35.740] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:32:41.221] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:32:41.222] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:32:41.247] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:32:41.247] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:32:45.006] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:32:45.006] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:32:45.020] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:32:45.020] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:33:51.827] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:33:51.827] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:33:51.864] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:33:51.865] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:33:51.874] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:33:51.874] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:33:51.906] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:33:51.906] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:33:51.915] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:33:51.916] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:33:52.029] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:33:52.030] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:33:52.042] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:33:52.042] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:33:52.144] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:33:52.144] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:35:29.648] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:35:29.648] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:35:29.709] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:35:29.709] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:35:29.722] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:35:29.723] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:35:30.200] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:35:30.200] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:35:30.224] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:35:30.225] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:35:30.238] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:35:30.238] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:35:30.251] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:35:30.251] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:35:30.264] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:35:30.264] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:36.816] [INFO] SQLMapperLog - [sqlId:MainProject.getListGroupProject] SELECT
  pg.id,
  pgd.`name`,
  IFNULL(ROUND((SUM(t.energy_today) / 1000), 1), 0) AS energy_today,
  SUM(t.lifetime) AS lifetime,
  SUM(t.last_month) AS last_month,
  SUM(t.lifetime_revenue) AS lifetime_revenue,
  IFNULL(ROUND((SUM(t.today_revenue)), 0), 0) AS today_revenue
FROM
  project_group pg
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN (
    SELECT
      p.id_project_group,
      SUM(d.lifetime) AS lifetime,
      (SUM(d.lifetime) / 1000) * c.config_revenue AS lifetime_revenue,
      SUM(d.energy_today) AS energy_today,
      (SUM(d.energy_today) / 1000) * c.config_revenue AS today_revenue,
      SUM(d.last_month) AS last_month
    FROM
      project p
      LEFT JOIN device d ON d.id_project = p.id
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
      LEFT JOIN (
        SELECT
          pc.id_project,
          pc.config_revenue
        FROM
          project_config pc
        WHERE
          NOW() >= pc.start_date
          AND NOW() <= pc.end_date
          AND pc.`status` = 1
        GROUP BY
          pc.id_project
      ) c ON c.id_project = p.id
    WHERE
      p.`status` = 1
      AND d.`status` = 1
      AND epm.id_employee = 1
    GROUP BY
      p.id
  ) t ON t.id_project_group = pg.id
WHERE
  pg.`status` = 1
  AND t.lifetime > 0
GROUP BY
  pg.id
[2023-04-08T14:36:36.816] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListPlantSummary',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:36:36.860] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
      AND d.id_device_type = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:36:36.860] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:36:39.463] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:36:39.463] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:35',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8440.578,
  power_now: 29.913,
  lifetime: 154837089,
  energy_today: 209.538
}
[2023-04-08T14:36:39.481] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:36:39.481] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48255,
  power_now: 168.61,
  lifetime: 857488000,
  energy_today: 1346
}
[2023-04-08T14:36:39.505] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:36:39.505] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21896.458,
  power_now: 71.121,
  lifetime: 497743934,
  energy_today: 568.798
}
[2023-04-08T14:36:39.545] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:36:39.545] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:36:39.830] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:36:39.831] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 237.45,
  lifetime: 1765424356,
  energy_today: 1893.616
}
[2023-04-08T14:36:39.882] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:36:39.882] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92085.082,
  power_now: 0,
  lifetime: 2240468459,
  energy_today: 4274.324
}
[2023-04-08T14:36:39.919] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:36:39.919] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 56991.932,
  power_now: 42.26,
  lifetime: 1297021293,
  energy_today: 2363.329
}
[2023-04-08T14:36:39.923] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:36:39.924] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:36:39.941] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:36:39.941] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 617.658,
  lifetime: 3853958596,
  energy_today: 4882.28
}
[2023-04-08T14:36:39.944] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:39.944] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:39.963] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:36:39.964] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230389.577,
  power_now: 743.148,
  lifetime: 4147756687,
  energy_today: 5913.268
}
[2023-04-08T14:36:39.968] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:39.968] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:39.986] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:36:39.986] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150698.933,
  power_now: 511.91,
  lifetime: 3521695865,
  energy_today: 4100.561
}
[2023-04-08T14:36:39.989] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:39.989] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:40.386] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:36:40.386] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88267.649,
  power_now: 298.31,
  lifetime: 1841972494,
  energy_today: 2362.284
}
[2023-04-08T14:36:40.390] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:40.390] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:40.407] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:36:40.407] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154394.562,
  power_now: 536.807,
  lifetime: 3056879240,
  energy_today: 4208.303
}
[2023-04-08T14:36:40.411] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:40.412] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:40.425] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:36:40.425] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29977.447,
  power_now: 99.774,
  lifetime: 691204982,
  energy_today: 804.949
}
[2023-04-08T14:36:40.427] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:40.427] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:40.446] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:36:40.446] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 32982.408,
  power_now: 110.48,
  lifetime: 626773631,
  energy_today: 878.457
}
[2023-04-08T14:36:40.473] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:36:40.473] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125437.451,
  power_now: 433.96,
  lifetime: 2709005904,
  energy_today: 3450.835
}
[2023-04-08T14:36:40.486] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:36:40.486] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60552.021,
  power_now: 209.95,
  lifetime: 1377685715,
  energy_today: 1686.317
}
[2023-04-08T14:36:40.502] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:36:40.502] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65331.83,
  power_now: 213.98,
  lifetime: 1419408367,
  energy_today: 1701.394
}
[2023-04-08T14:36:40.534] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:36:40.534] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:36:47.733] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:36:47.734] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:36:47.764] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:36:47.765] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:36:47.804] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:47.804] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:47.822] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:47.822] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:48.104] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:48.104] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:48.115] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:48.116] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:48.126] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:48.126] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:48.136] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:48.136] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:54.826] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:36:54.826] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:36:54.910] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:36:54.911] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:36:54.919] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:54.919] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:54.929] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:54.929] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:54.937] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:54.937] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:54.973] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:54.973] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:54.982] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:54.982] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:36:54.989] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:36:54.989] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:37:02.809] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployee] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue,
  CASE
    WHEN k.total_alert > 0 THEN CONCAT(
      '[',
      GROUP_CONCAT(
        JSON_OBJECT(
          'id',
          k.id,
          'thumbnail',
          k.thumbnail,
          'name',
          k.`name`,
          'total_alert',
          k.total_alert
        )
      ),
      ']'
    )
    ELSE NULL
  END AS alarms,
  v.last_updated,
  y.last_month,
  y.power_now,
  y.lifetime,
  y.energy_today
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN (
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
  LEFT JOIN(
    SELECT
      k.id,
      k.`name`,
      k.thumbnail,
      SUM(k.total_alert) AS total_alert,
      k.id_project
    FROM(
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          d.id_project
        FROM
          alert a
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
          LEFT JOIN device d ON d.id = a.id_device
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          d.id_project
        UNION ALL
        SELECT
          el.id,
          COUNT(el.id) AS total_alert,
          el.thumbnail,
          eld.`name`,
          pm.id_project
        FROM
          project_map_device_virtual pm
          LEFT JOIN alert a ON a.id_device = pm.id_device
          LEFT JOIN error e ON e.id = a.id_error
          LEFT JOIN error_level el ON e.id_error_level = el.id
          LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
          AND eld.id_language = 2
        WHERE
          el.id IN (1, 6)
          AND a.`status` = 1
          AND e.`status` = 1
          AND el.`status` = 1
        GROUP BY
          el.id,
          pm.id_project
      ) k
    GROUP BY
      k.id,
      k.id_project
  ) k ON k.id_project = p.id
  LEFT JOIN(
    SELECT
      d.id_project,
      IF(
        SUM(d.power_now) IS NULL
        OR DATE_FORMAT(NOW(), '%k') >= 19
        OR DATE_FORMAT(NOW(), '%k') <= 5,
        0,
        (SUM(d.power_now) / 1000)
      ) AS power_now,
      IF(
        SUM(d.energy_today) IS NULL,
        0,
        (SUM(d.energy_today) / 1000)
      ) AS energy_today,
      IF(
        SUM(d.last_month) IS NULL,
        0,
        (SUM(d.last_month) / 1000)
      ) AS last_month,
      SUM(d.lifetime) AS lifetime
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
    WHERE
      epm.id_employee = 1
      AND d.`status` IN (1, 0)
      AND p.`status` = 1
      AND d.id_device_type = 1
    GROUP BY
      p.id
  ) y ON y.id_project = p.id
  LEFT JOIN (
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      device d
      LEFT JOIN model_techedge dv ON dv.id_device = d.id
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id_project,
      MAX(dv.time) AS time,
      FROM_UNIXTIME(MAX(dv.time), '%d/%m/%Y %H:%i') AS last_updated
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN model_techedge dv ON dv.id_device = d.id_device
    WHERE
      d.id_device_group = 27
      AND dv.time IS NOT NULL
    GROUP BY
      pm.id_device
  ) v ON v.id_project = p.id
WHERE
  epm.id_employee = 1
  AND p.`status` = 1
  AND pg.`status` = 1
GROUP BY
  p.id
ORDER BY
  p.menu_order DESC
LIMIT
  0, 16
[2023-04-08T14:37:02.809] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:37:04.221] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 55
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 55
[2023-04-08T14:37:04.221] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 55,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: '16, Khu Phố 4, Đường số 15, Phường Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh',
  lat: '10.866276',
  lng: '106.778264',
  installed_power: '50 kWp',
  installed_power_client: '50 kWp',
  commisioning_date: '05/09/2022',
  last_updated: '08/04/2023 14:35',
  installed_date: '05/09/2022',
  name: 'LT16-PE10000130245',
  site_name: 'HỆ THỐNG ĐIỆN NĂNG LƯỢNG MẶT TRỜI ÁP MÁI - KHU VỰC LINH TRUNG',
  project_group_name: 'Linh Trung',
  config_revenue: 1934,
  alarms: null,
  last_month: 8440.578,
  power_now: 29.913,
  lifetime: 154837089,
  energy_today: 209.538
}
[2023-04-08T14:37:14.498] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 11
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 11
[2023-04-08T14:37:14.498] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 11,
  hash_id: '1d188f56848f058fa67ecf73643bd28b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825557',
  lng: '106.814545',
  installed_power: '704.2 kWp',
  installed_power_client: '304 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '09/09/2021',
  name: 'E11-PE12000105858',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 2',
  project_group_name: 'Tài Lộc 2',
  config_revenue: 1934,
  alarms: null,
  last_month: 48255,
  power_now: 166.7,
  lifetime: 857492000,
  energy_today: 1350
}
[2023-04-08T14:37:14.547] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 14
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 14
[2023-04-08T14:37:14.547] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  hash_id: 'a8bc4547a048e73133d5bdb1ee76231f',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8241381',
  lng: '106.8097794',
  installed_power: '184 kWp',
  installed_power_client: '176 kWp',
  commisioning_date: '01/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '08/09/2021',
  name: 'Nhà Ăn-PE12000304894',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 21896.458,
  power_now: 70.278,
  lifetime: 497745960,
  energy_today: 570.824
}
[2023-04-08T14:37:14.958] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 15
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 15
[2023-04-08T14:37:14.958] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 15,
  hash_id: '576d2e8919ed968810322df5ac278f9b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825957401663175',
  lng: '106.81479206454793',
  installed_power: '504 kWp',
  installed_power_client: '504 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000129132',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 70745.029,
  power_now: 234.66,
  lifetime: 1765427693,
  energy_today: 1896.953
}
[2023-04-08T14:37:14.997] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 16
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 16
[2023-04-08T14:37:14.997] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 16,
  hash_id: 'adb28467dca95456e342d64ff7a2530b',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.825556961697115',
  lng: '106.81455603015833',
  installed_power: '684 kWp',
  installed_power_client: '600 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '09/09/2021',
  name: 'E6-PE12000202108',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 8}]',
  last_month: 92085.082,
  power_now: 0,
  lifetime: 2240468459,
  energy_today: 4274.324
}
[2023-04-08T14:37:15.012] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 17
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 17
[2023-04-08T14:37:15.012] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 17,
  hash_id: '7a789c6e53d5ced4a1c2584b53799e4e',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '417.9 kWp',
  installed_power_client: '324 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '09/09/2021',
  name: 'E6-PE12000192934',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: '[{"id": 6, "name": "Connection", "thumbnail": "2021/10/disconnected-1634088013000.png", "total_alert": 4}]',
  last_month: 56991.932,
  power_now: 39.72,
  lifetime: 1297024293,
  energy_today: 2366.329
}
[2023-04-08T14:37:15.039] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 24
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 24
[2023-04-08T14:37:15.039] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 24,
  hash_id: 'a0638996d99ad8492a508859857188a4',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1193.4 kWp',
  installed_power_client: '998 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: '3A-PE12000295809',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 203505.479,
  power_now: 603.528,
  lifetime: 3853974998,
  energy_today: 4898.682
}
[2023-04-08T14:37:15.353] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 25
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 25
[2023-04-08T14:37:15.353] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 25,
  hash_id: '71212248130d1b85249b0e76c5cac35d',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1425.2 kWp',
  installed_power_client: '940 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: 'E123-PE12000197518',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 230389.577,
  power_now: 732.218,
  lifetime: 4147782246,
  energy_today: 5938.827
}
[2023-04-08T14:37:15.371] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 26
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 26
[2023-04-08T14:37:15.371] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 26,
  hash_id: '1c675a83e08f28f18623d0675ef881d3',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1132.8 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'E4-PE12000102823',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 150698.933,
  power_now: 503.07,
  lifetime: 3521712180,
  energy_today: 4116.876
}
[2023-04-08T14:37:15.387] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 27
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 27
[2023-04-08T14:37:15.387] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 27,
  hash_id: 'c07ec4eceda5bdadd41313b36ba19be6',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '594.1 kWp',
  installed_power_client: '550 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: 'E4-PE12000156631',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 88267.649,
  power_now: 291.19,
  lifetime: 1841986516,
  energy_today: 2376.306
}
[2023-04-08T14:37:15.406] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 28
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 28
[2023-04-08T14:37:15.406] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 28,
  hash_id: '135f9f90e9001d4417ef5b9f786357f5',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '1268.5 kWp',
  installed_power_client: '980 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: '4A-PE12000295810',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 154394.562,
  power_now: 513.286,
  lifetime: 3056908394,
  energy_today: 4237.457
}
[2023-04-08T14:37:15.421] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 29
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 29
[2023-04-08T14:37:15.421] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 29,
  hash_id: 'f67ce861f41b3ef4371c9a8d47707a53',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '352.1 kWp',
  installed_power_client: '250 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: 'Đất Hào - PE12000121780',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 29977.447,
  power_now: 98.524,
  lifetime: 691208500,
  energy_today: 808.467
}
[2023-04-08T14:37:15.455] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 30
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 30
[2023-04-08T14:37:15.455] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 30,
  hash_id: 'a4912dfb7b140f4cc60ba938527f243c',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '260 kWp',
  installed_power_client: '230 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: 'Bà Vân - PE12000129133',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 32982.408,
  power_now: 109.25,
  lifetime: 626777102,
  energy_today: 881.928
}
[2023-04-08T14:37:15.472] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 31
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 31
[2023-04-08T14:37:15.472] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 31,
  hash_id: '165e3e6f46db9755c4c8c85e756e26fe',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '878.5 kWp',
  installed_power_client: '760 kWp',
  commisioning_date: '15/12/2020',
  last_updated: '08/04/2023 14:35',
  installed_date: '01/10/2021',
  name: '2A-PE12000123322',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 125437.451,
  power_now: 424.86,
  lifetime: 2709017194,
  energy_today: 3462.125
}
[2023-04-08T14:37:15.483] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 32
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 32
[2023-04-08T14:37:15.483] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 32,
  hash_id: '1f577eb12de80bfacb4420ca27fb79f7',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131490',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 60552.021,
  power_now: 202.41,
  lifetime: 1377692507,
  energy_today: 1693.109
}
[2023-04-08T14:37:15.495] [INFO] SQLMapperLog - [sqlId:MainProject.getIrradianceByProjectId] SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  d.`status` = 1
  AND d.id_project = 33
UNION ALL
SELECT
  dv.id_device,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  model_sensor_IMT_SiRS485 dv
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(dv.time) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t2 ON t2.id_device = dv.id_device
  AND dv.time = t2.max_time
  LEFT JOIN project_map_device_virtual pm ON pm.id_device = dv.id_device
  LEFT JOIN device d ON d.id = pm.id_device
WHERE
  d.`status` = 1
  AND pm.id_project = 33
[2023-04-08T14:37:15.495] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 33,
  hash_id: '5ccd910aa723d7a4593f04e4626029ae',
  thumbnail: null,
  address: '63 Lò Lu, Phường Trường Thạnh, TP.Thủ Đức, TP.HCM',
  lat: '10.8249352',
  lng: '106.8137085',
  installed_power: '440 kWp',
  installed_power_client: '392 kWp',
  commisioning_date: '15/12/2020',
  last_updated: null,
  installed_date: '01/10/2021',
  name: '2A-PE12000131491',
  site_name: 'HỆ THỐNG ĐIỆN MẶT TRỜI ÁP MÁI - KHU TÀI LỘC 1',
  project_group_name: 'Tài Lộc 1',
  config_revenue: 1934,
  alarms: null,
  last_month: 65331.83,
  power_now: 207.58,
  lifetime: 1419415240,
  energy_today: 1708.267
}
[2023-04-08T14:37:15.515] [INFO] SQLMapperLog - [sqlId:MainProject.getListProjectByEmployeeSize] SELECT
  count(p.id) totalRow
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON p.id = pd.id_project
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
[2023-04-08T14:37:15.515] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  limit: 16,
  offset: 0,
  index: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getListProjectByEmployee',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:38:10.189] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:38:10.190] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:38:10.357] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:38:10.357] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:38:10.368] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:38:10.368] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:38:10.388] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:38:10.389] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:38:10.472] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:10.473] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:38:21.571] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:21.571] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:38:21.608] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:38:21.609] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:38:25.678] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:25.678] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:38:25.693] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:25.693] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:38:46.925] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:38:46.925] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:38:46.946] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:38:46.947] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:38:46.947] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:38:46.947] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:38:46.960] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:38:46.960] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:38:46.964] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:38:46.964] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:38:46.969] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:38:46.969] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:38:47.003] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:38:47.003] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:38:47.004] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:38:47.004] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:38:47.022] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:38:47.022] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:38:47.023] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:38:47.023] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:38:47.039] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:38:47.039] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:38:47.051] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:38:47.052] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:38:47.199] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:47.199] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:38:52.705] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:52.705] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:38:52.724] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:38:52.725] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:38:56.538] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:56.539] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:38:58.518] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:38:58.518] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:39:30.013] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:39:30.014] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:39:30.019] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:39:30.019] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:39:30.031] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:39:30.031] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:39:30.054] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:39:30.054] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:39:30.068] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:39:30.069] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:39:30.070] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:39:30.070] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:39:30.080] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:39:30.080] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:39:30.529] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:39:30.530] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:39:30.544] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:39:30.544] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:39:30.553] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:39:30.553] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:39:34.018] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:39:34.018] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:39:37.274] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:39:37.274] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:39:43.412] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:39:43.413] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:39:46.090] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:39:46.093] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:39:46.420] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:39:46.421] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:39:50.832] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:39:50.832] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:39:50.839] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:39:50.839] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:40:23.329] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:40:23.329] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:40:41.260] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:40:41.260] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:40:46.200] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:40:46.200] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:40:46.203] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:40:46.204] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:40:46.374] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:40:46.374] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:40:46.385] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:40:46.385] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:40:46.393] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:40:46.393] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:40:47.095] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:40:47.096] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:40:53.579] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:40:53.580] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:40:53.750] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:40:53.750] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:40:54.002] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:40:54.003] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:40:54.461] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:40:54.462] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:40:54.511] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:40:54.512] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:40:54.547] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:40:54.548] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:40:55.175] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:40:55.179] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:40:57.876] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:40:57.876] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:40:59.704] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:40:59.704] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:41:01.195] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:41:01.198] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:41:01.421] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:41:01.421] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:41:06.499] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:41:06.499] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:41:19.634] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:41:19.635] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:42:14.754] [INFO] SQLMapperLog - [sqlId:ClientNotify.getNotifySize] SELECT
  count(a.id) totalRow
FROM
  alert a
  LEFT JOIN error e ON e.id = a.id_error
  LEFT JOIN error_detail ed ON ed.id_error = e.id
  AND ed.id_language = 2
  LEFT JOIN error_level el ON el.id = e.id_error_level
  LEFT JOIN error_level_detail eld ON eld.id_error_level = el.id
  AND eld.id_language = 2
  LEFT JOIN device d ON d.id = a.id_device
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  a.`status` = 1
  AND p.`status` = 1
  AND el.id IN(1, 4)
  AND d.id IN (
    SELECT
      d.id
    FROM
      project_map_device_virtual pm
      LEFT JOIN device d ON d.id = pm.id_device
      LEFT JOIN project p ON p.id = pm.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
    GROUP BY
      d.id
    UNION ALL
    SELECT
      d.id
    FROM
      device d
      LEFT JOIN project p ON p.id = d.id_project
      LEFT JOIN emloyee_project_map ep ON ep.id_project = p.id
    WHERE
      ep.id_employee = 1
      AND p.`status` = 1
      AND d.`status` = 1
      AND d.is_virtual = 1
  )
[2023-04-08T14:42:14.755] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_device: null,
  id_error: null,
  start_date: null,
  end_date: null,
  note: null,
  id_alert_state: null,
  status: null,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getNotifySize',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:42:16.149] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllScope] SELECT
  p.id,
  pd.`name`,
  pd.id_language,
  1 AS show_child
FROM
  project_group p
  LEFT JOIN project_group_detail pd ON p.id = pd.id_project_group
  AND pd.id_language = 2
WHERE
  p.`status` = 1
[2023-04-08T14:42:16.150] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: null,
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getAllProjectByEmployeeId',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:42:16.175] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 4
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:42:16.175] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 4,
  name: 'Linh Trung',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:42:17.500] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 5
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:42:17.500] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 5,
  name: 'Tài Lộc 2',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:42:17.542] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 6
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:42:17.542] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 6,
  name: 'Tài Lộc 1',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:42:20.621] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 7
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:42:20.621] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 7,
  name: 'Chùa QAKT',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:42:21.064] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 12
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:42:21.064] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 12,
  name: 'TE-Test',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:42:21.626] [INFO] SQLMapperLog - [sqlId:ClientProject.getAllProjectByEmployeeId] SELECT
  p.id,
  p.hash_id,
  pd.`name`,
  pd.site_name,
  p.id AS `value`,
  '/project' AS module_path,
  '/private' AS main_module_path,
  epm.id_employee
FROM
  `project` AS p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
WHERE
  pd.id_language = 2
  AND p.`status` = 1
  AND p.id_project_group = 14
  AND epm.id_employee = 1
ORDER BY
  p.`menu_order` DESC
[2023-04-08T14:42:21.627] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 14,
  name: 'Gateway Monitoring',
  id_language: 2,
  show_child: 1,
  id_employee: 1
}
[2023-04-08T14:42:25.001] [INFO] SQLMapperLog - [sqlId:MainPlant.getDetail] SELECT
  p.id,
  p.hash_id,
  p.thumbnail,
  p.address,
  p.lat,
  p.lng,
  p.installed_power,
  p.installed_power_client,
  DATE_FORMAT(p.commisioning_date, '%d/%m/%Y') AS commisioning_date,
  DATE_FORMAT(p.last_updated, '%d/%m/%Y') AS last_updated,
  DATE_FORMAT(p.installed_date, '%d/%m/%Y') AS installed_date,
  YEAR(NOW()) - YEAR(p.installed_date) AS total_year,
  pd.`name`,
  pd.site_name,
  pgd.`name` AS project_group_name,
  IFNULL(t.config_revenue, 0) AS config_revenue
FROM
  project p
  LEFT JOIN project_detail pd ON pd.id_project = p.id
  AND pd.id_language = 2
  LEFT JOIN project_group pg ON pg.id = p.id_project_group
  LEFT JOIN project_group_detail pgd ON pgd.id_project_group = pg.id
  AND pgd.id_language = 2
  LEFT JOIN emloyee_project_map epm ON epm.id_project = p.id
  LEFT JOIN(
    SELECT
      pc.id_project,
      pc.config_revenue
    FROM
      project_config pc
    WHERE
      NOW() >= pc.start_date
      AND NOW() <= pc.end_date
      AND pc.`status` = 1
    GROUP BY
      pc.id_project
  ) t ON t.id_project = p.id
WHERE
  p.`status` = 1
  AND pg.`status` = 1
  AND epm.id_employee = 1
  AND p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
LIMIT
  1;
[2023-04-08T14:42:25.001] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:42:30.569] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  dg.id
[2023-04-08T14:42:30.569] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:42:30.809] [INFO] SQLMapperLog - [sqlId:MainPlant.getListDeviceInverter] SELECT
  d.id,
  d.id_project,
  d.id_device_group,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND dg.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
GROUP BY
  d.id
[2023-04-08T14:42:30.809] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00',
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_employee: 1,
  id_language: 2,
  filterBy: 'today',
  data_send_time: 2,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getChartData',
  lang: 'en',
  lang_default: 'en'
}
[2023-04-08T14:42:30.969] [INFO] SQLMapperLog - [sqlId:MainPlant.dataEnergy15MinutesByDevice] SELECT
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%Y-%m-%d %H:%i'
  ) AS time_format,
  FROM_UNIXTIME(
    (
      UNIX_TIMESTAMP(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) DIV 900
    ) * 900,
    '%d/%m/%Y %H:%i'
  ) AS time_full,
  SUM(dv.activePower) / 1000 AS activePower,
  MAX(dv.activeEnergy) AS today_activeEnergy,
  FROM_UNIXTIME(dv.time, '%d/%m/%Y') AS group_day
FROM
  model_inverter_SMA_STP50 dv
  LEFT JOIN device d ON d.id = dv.id_device
WHERE
  FROM_UNIXTIME(dv.time, '%d') = DAY ('2023-04-08 19:00:00')
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') >= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 05:00'
  )
  AND FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') <= CONCAT(
    DATE_FORMAT('2023-04-08 19:00:00', '%Y-%m-%d'),
    ' 19:00'
  )
  AND d.`status` = 1
  AND d.is_virtual = 1
  AND d.id = 233
GROUP BY
  time_format
[2023-04-08T14:42:30.970] [INFO] SQLMapperLog - param: RowDataPacket {
  id: 233,
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50',
  start_date: ' 00:00:00',
  end_date: '2023-04-08 19:00:00'
}
[2023-04-08T14:46:19.163] [INFO] SQLMapperLog - [sqlId:MainPlant.getTotalInverter] SELECT
  COUNT(d.id) AS totalInverter
FROM
  device d
  LEFT JOIN project p ON p.id = d.id_project
WHERE
  p.hash_id = 'fa8324fa05201cc3e8a47539afd45cf6'
  AND d.`status` = 1
  AND p.`status` = 1
  AND d.id_device_group IN(18, 19, 20, 21, 22, 28)
[2023-04-08T14:46:19.164] [INFO] SQLMapperLog - param: {
  mode: null,
  is_paging: 1,
  created_by: null,
  created_date: null,
  updated_by: null,
  updated_date: null,
  is_active: 1,
  current_row: 0,
  order_by: null,
  sort_column: null,
  max_record: 50,
  id: null,
  id_project_group: null,
  hash_id: 'fa8324fa05201cc3e8a47539afd45cf6',
  thumbnail: null,
  address: null,
  lat: null,
  lng: null,
  installed_power: null,
  installed_power_client: null,
  commisioning_date: null,
  installed_date: null,
  last_updated: null,
  status: 1,
  total_year: 0,
  year: null,
  config_revenue: 0,
  start_date: null,
  end_date: null,
  jan: null,
  feb: null,
  mar: null,
  apr: null,
  may: null,
  jun: null,
  jul: null,
  aug: null,
  sep: null,
  oct: null,
  nov: null,
  dec: null,
  yearly_egrade_default: null,
  yearly_egrade_two: null,
  config_yi: 0,
  config_po: 0,
  total_loss_factor: 1,
  config_yi1: 0,
  config_po1: 0,
  total_loss_factor1: 1,
  menu_order: 1,
  id_language: 2,
  id_employee: 1,
  type: 'private',
  currentUser: 'thanhan27011989@gmail.com',
  action: 'getDetail',
  lang: 'en',
  lang_default: 'vi'
}
[2023-04-08T14:46:19.194] [INFO] SQLMapperLog - [sqlId:MainPlant.getGroupDeviceByProjectId] SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  device d
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  d.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
UNION ALL
SELECT
  dg.id,
  dg.`name`,
  dg.table_name
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN device_group dg ON dg.id = d.id_device_group
WHERE
  pm.id_project = 55
  AND d.`status` = 1
  AND dg.`status` = 1
GROUP BY
  dg.id
[2023-04-08T14:46:19.194] [INFO] SQLMapperLog - param: { id_project: 55 }
[2023-04-08T14:46:19.447] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceEnergy] SELECT
  d.id_project,
  SUM(t.today_activeEnergy) AS today_activeEnergy,
  SUM(t.lifetime) AS lifetime,
  SUM(g.power_now) AS power_now,
  SUM(g.dc_power) AS dc_power,
  IFNULL(SUM(g.deviceOn), 0) AS totalInverterOn
FROM
  device d
  LEFT JOIN (
    SELECT
      dv.time,
      dv.id_device,
      (MAX(dv.activeEnergy)) - (MIN(dv.activeEnergy)) AS today_activeEnergy,
      MAX(dv.activeEnergy) AS lifetime
    FROM
      model_inverter_SMA_STP50 dv
      LEFT JOIN device d ON d.id = dv.id_device
    WHERE
      dv.activeEnergy > 0
      AND d.id_project = 55
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      dv.id_device
  ) t ON d.id = t.id_device
  LEFT JOIN (
    SELECT
      m.id_device,
      m.activePower AS power_now,
      m.dcPower AS dc_power,
      IF(
        m.activePower > 0
        AND m.activePower IS NOT NULL,
        1,
        0
      ) AS deviceOn
    FROM
      model_inverter_SMA_STP50 m
      LEFT JOIN device d ON d.id = m.id_device
      INNER JOIN (
        SELECT
          dv.id_device,
          MAX(dv.time) AS time
        FROM
          model_inverter_SMA_STP50 dv
          LEFT JOIN device d ON d.id = dv.id_device
        WHERE
          d.id_project = 55
          AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
        GROUP BY
          dv.id_device
      ) b ON b.time = m.time
    GROUP BY
      m.id_device
  ) g ON d.id = g.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 21
LIMIT
  1;
[2023-04-08T14:46:19.447] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 21,
  table_name: 'model_inverter_SMA_STP50'
}
[2023-04-08T14:46:20.014] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:46:20.015] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:46:31.611] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:46:31.612] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
[2023-04-08T14:46:33.119] [INFO] SQLMapperLog - [sqlId:MainPlant.getmeterConsumption] SELECT
  t.id_project,
  IFNULL(ROUND((SUM(t.activePower) / 1000), 1), 0) AS activePower
FROM
  (
    SELECT
      dv.id_device,
      d.id_project,
      dv.time,
      IFNULL(dv.activePower, 0) AS activePower
    FROM
      device d
      LEFT JOIN model_emeter_Vinasino_VSE3T5 dv ON d.id = dv.id_device
      LEFT JOIN (
        SELECT
          dv.id_device,
          MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
        FROM
          model_emeter_Vinasino_VSE3T5 dv
        GROUP BY
          dv.id_device
      ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
      AND dv.id_device = t.id_device
    WHERE
      d.id_project = 55
      AND d.id_device_group = 29
      AND d.`status` = 1
      AND FROM_UNIXTIME(dv.time, '%d/%m/%Y') = DATE_FORMAT(NOW(), '%d/%m/%Y')
    GROUP BY
      d.id
  ) t
[2023-04-08T14:46:33.119] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 29,
  table_name: 'model_emeter_Vinasino_VSE3T5'
}
[2023-04-08T14:46:37.506] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceIrradiance] SELECT
  dv.id_device,
  d.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  device d
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON d.id = dv.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  d.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
UNION ALL
SELECT
  dv.id_device,
  pm.id_project,
  dv.time,
  IFNULL(dv.cellTemp, 0) AS cellTemp,
  IFNULL(dv.irradiancePoA, 0) AS irradiancePoA,
  IFNULL(dv.panelTemp, 0) AS panelTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON d.id = pm.id_device
  LEFT JOIN model_sensor_IMT_SiRS485 dv ON dv.id_device = pm.id_device
  INNER JOIN (
    SELECT
      dv.id_device,
      MAX(FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i')) AS max_time
    FROM
      model_sensor_IMT_SiRS485 dv
    GROUP BY
      dv.id_device
  ) t ON FROM_UNIXTIME(dv.time, '%Y-%m-%d %H:%i') = t.max_time
  AND dv.id_device = t.id_device
WHERE
  pm.id_project = 55
  AND d.id_device_group = 25
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:46:37.506] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 25,
  table_name: 'model_sensor_IMT_SiRS485'
}
[2023-04-08T14:46:47.558] [INFO] SQLMapperLog - [sqlId:MainPlant.getDataDeviceAmbientEmperature] SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  device d
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  d.id_project = 55
  AND d.id_device_group = 26
GROUP BY
  d.id
UNION ALL
SELECT
  d.id,
  d.`name`,
  IFNULL(t.ambientTemp, 0) AS ambientTemp
FROM
  project_map_device_virtual pm
  LEFT JOIN device d ON pm.id_device = d.id
  LEFT JOIN (
    SELECT
      rd.*
    FROM
      model_sensor_IMT_TaRS485 rd
      INNER JOIN (
        SELECT
          id_device,
          MAX(time) AS max_date
        FROM
          model_sensor_IMT_TaRS485
        GROUP BY
          id_device
      ) grd ON rd.id_device = grd.id_device
      AND rd.time = grd.max_date
  ) t ON t.id_device = d.id
WHERE
  pm.id_project = 55
  AND d.id_device_group = 26
  AND d.`status` = 1
GROUP BY
  d.id
[2023-04-08T14:46:47.558] [INFO] SQLMapperLog - param: {
  id_project: 55,
  id_device_group: 26,
  table_name: 'model_sensor_IMT_TaRS485'
}
